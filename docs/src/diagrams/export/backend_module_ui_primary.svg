<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1561px" preserveAspectRatio="none" style="width:1268px;height:1561px;" version="1.1" viewBox="0 0 1268 1561" width="1268px" zoomAndPan="magnify"><defs><filter height="300%" id="f1xpim327l8whr" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[013f5ae47667252d65790964a7603222]
cluster ska_oso_oet--><polygon fill="#FFFFFF" filter="url(#f1xpim327l8whr)" points="14,16,116,16,123,38.2969,1246,38.2969,1246,1449,14,1449,14,16" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="14" x2="123" y1="38.2969" y2="38.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="96" x="18" y="30.9951">ska_oso_oet</text><!--MD5=[5237f998f19e09220ae26f82b025f45a]
cluster mptools--><rect fill="#FFFFFF" filter="url(#f1xpim327l8whr)" height="106" style="stroke: #000000; stroke-width: 1.5;" width="272" x="943" y="253"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="63" x="1047.5" y="267.9951">mptools</text><!--MD5=[a70b0d373322012744ecc119c63f921b]
cluster main--><rect fill="#FFFFFF" filter="url(#f1xpim327l8whr)" height="538" style="stroke: #000000; stroke-width: 1.5;" width="532" x="403" y="43"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="650.5" y="57.9951">main</text><!--MD5=[d5ac3844f66b12d9e08170e47495e096]
cluster app--><rect fill="#FFFFFF" filter="url(#f1xpim327l8whr)" height="416" style="stroke: #000000; stroke-width: 1.5;" width="373" x="865" y="709"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="1037" y="723.9951">app</text><!--MD5=[c52b0ba8ff4254a5e89298d845ed8822]
cluster procedure--><polygon fill="#FFFFFF" filter="url(#f1xpim327l8whr)" points="22,674,111,674,118,696.2969,462,696.2969,462,1441,22,1441,22,674" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="118" y1="696.2969" y2="696.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="83" x="26" y="688.9951">procedure</text><!--MD5=[879f781903a78f2a7bd3ee11bed0cd11]
cluster procedure.application--><rect fill="#FFFFFF" filter="url(#f1xpim327l8whr)" height="732" style="stroke: #000000; stroke-width: 1.5;" width="268" x="186" y="701"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="173" x="233.5" y="715.9951">procedure.application</text><!--MD5=[6a366f9a1367cc12b2bc220c484cae60]
cluster procedure.application.api--><rect fill="#FFFFFF" filter="url(#f1xpim327l8whr)" height="83" style="stroke: #000000; stroke-width: 1.5;" width="217" x="229" y="1342"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="201" x="237" y="1356.9951">procedure.application.api</text><!--MD5=[efca47b6bc4d9eeb993729faf280a8b0]
cluster procedure.application.service--><rect fill="#FFFFFF" filter="url(#f1xpim327l8whr)" height="83" style="stroke: #000000; stroke-width: 1.5;" width="252" x="194" y="728"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="236" x="202" y="742.9951">procedure.application.service</text><!--MD5=[5bfbddd16792521063e0ff2cfd5b35e8]
cluster activity--><polygon fill="#FFFFFF" filter="url(#f1xpim327l8whr)" points="470,674,532,674,539,696.2969,857,696.2969,857,1441,470,1441,470,674" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="470" x2="539" y1="696.2969" y2="696.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="56" x="474" y="688.9951">activity</text><!--MD5=[bb724f3d5f1e8fe0d53456d34d6b0496]
cluster activity.application--><rect fill="#FFFFFF" filter="url(#f1xpim327l8whr)" height="732" style="stroke: #000000; stroke-width: 1.5;" width="241" x="608" y="701"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="146" x="655.5" y="715.9951">activity.application</text><!--MD5=[e91bcf010b25ad2aeb81ecc1122c0729]
cluster activity.application.api--><polygon fill="#FFFFFF" filter="url(#f1xpim327l8whr)" points="651,1342,831,1342,838,1364.2969,841,1364.2969,841,1425,651,1425,651,1342" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="651" x2="838" y1="1364.2969" y2="1364.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="174" x="655" y="1356.9951">activity.application.api</text><!--MD5=[0e0e1b91e4321c5f9c4f8c94f35dd113]
cluster activity.application.service--><polygon fill="#FFFFFF" filter="url(#f1xpim327l8whr)" points="616,728,831,728,838,750.2969,841,750.2969,841,811,616,811,616,728" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="616" x2="838" y1="750.2969" y2="750.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="209" x="620" y="742.9951">activity.application.service</text><!--MD5=[71c2ab1c1c8272e025db689c64a870a2]
cluster flask--><polygon fill="#FFFFFF" filter="url(#f1xpim327l8whr)" points="816,1466,859,1466,866,1488.2969,1019,1488.2969,1019,1549,816,1549,816,1466" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="816" x2="866" y1="1488.2969" y2="1488.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="820" y="1480.9951">flask</text><path d="M37,65 L37,135.5313 L367,135.5313 L367,75 L357,65 L37,65 " fill="#FBFB77" filter="url(#f1xpim327l8whr)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M357,65 L357,75 L367,75 L357,65 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="35" x="43" y="82.0669">Note</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="304" x="43" y="97.1997">This diagram represents a proposed refactoring</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="309" x="43" y="112.3325">of the current ska_oso_oet project structure and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="201" x="43" y="127.4653">has not yet been implemented.</text><path d="M950.5,280 L950.5,350.5313 L1171.5,350.5313 L1171.5,290 L1161.5,280 L950.5,280 " fill="#FBFB77" filter="url(#f1xpim327l8whr)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1161.5,280 L1161.5,290 L1171.5,290 L1161.5,280 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="956.5" y="297.0669">See the ScriptExecutionService</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="183" x="956.5" y="312.1997">view for more information on</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="21" x="956.5" y="327.3325">the</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="981.5" y="327.3325">mptools</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="1041.5" y="327.3325">module and its</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="956.5" y="342.4653">contents.</text><!--MD5=[33f72e11af6101778dcafb71668d1add]
class ScriptExecutionServiceWorker--><rect fill="#FEFECE" filter="url(#f1xpim327l8whr)" height="99.2188" id="ScriptExecutionServiceWorker" style="stroke: #A80036; stroke-width: 1.5;" width="218" x="411" y="474"/><ellipse cx="426" cy="490" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M428.9688,495.6406 Q428.3906,495.9375 427.75,496.0781 Q427.1094,496.2344 426.4063,496.2344 Q423.9063,496.2344 422.5781,494.5938 Q421.2656,492.9375 421.2656,489.8125 Q421.2656,486.6875 422.5781,485.0313 Q423.9063,483.375 426.4063,483.375 Q427.1094,483.375 427.75,483.5313 Q428.4063,483.6875 428.9688,483.9844 L428.9688,486.7031 Q428.3438,486.125 427.75,485.8594 Q427.1563,485.5781 426.5313,485.5781 Q425.1875,485.5781 424.5,486.6563 Q423.8125,487.7188 423.8125,489.8125 Q423.8125,491.9063 424.5,492.9844 Q425.1875,494.0469 426.5313,494.0469 Q427.1563,494.0469 427.75,493.7813 Q428.3438,493.5 428.9688,492.9219 L428.9688,495.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="186" x="440" y="494.1543">ScriptExecutionServiceWorker</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="412" x2="628" y1="506" y2="506"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="412" x2="628" y1="514" y2="514"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="417" y="528.2104">prepare(...)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="417" y="541.0151">start(...)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="417" y="553.8198">stop(...)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="417" y="566.6245">list(...)</text><!--MD5=[b57936688dd02f834049b5feb8e1c3e8]
class ActivityWorker--><rect fill="#FEFECE" filter="url(#f1xpim327l8whr)" height="73.6094" id="ActivityWorker" style="stroke: #A80036; stroke-width: 1.5;" width="119" x="664.5" y="486.5"/><ellipse cx="679.5" cy="502.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M682.4688,508.1406 Q681.8906,508.4375 681.25,508.5781 Q680.6094,508.7344 679.9063,508.7344 Q677.4063,508.7344 676.0781,507.0938 Q674.7656,505.4375 674.7656,502.3125 Q674.7656,499.1875 676.0781,497.5313 Q677.4063,495.875 679.9063,495.875 Q680.6094,495.875 681.25,496.0313 Q681.9063,496.1875 682.4688,496.4844 L682.4688,499.2031 Q681.8438,498.625 681.25,498.3594 Q680.6563,498.0781 680.0313,498.0781 Q678.6875,498.0781 678,499.1563 Q677.3125,500.2188 677.3125,502.3125 Q677.3125,504.4063 678,505.4844 Q678.6875,506.5469 680.0313,506.5469 Q680.6563,506.5469 681.25,506.2813 Q681.8438,506 682.4688,505.4219 L682.4688,508.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="693.5" y="506.6543">ActivityWorker</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="665.5" x2="782.5" y1="518.5" y2="518.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="665.5" x2="782.5" y1="526.5" y2="526.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="39" x="670.5" y="540.7104">run(...)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="670.5" y="553.5151">list(...)</text><!--MD5=[17238aaf72f47361d520c29dfe37cd7f]
class FlaskWorker--><rect fill="#FEFECE" filter="url(#f1xpim327l8whr)" height="48" id="FlaskWorker" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="819" y="499.5"/><ellipse cx="834" cy="515.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M836.9688,521.1406 Q836.3906,521.4375 835.75,521.5781 Q835.1094,521.7344 834.4063,521.7344 Q831.9063,521.7344 830.5781,520.0938 Q829.2656,518.4375 829.2656,515.3125 Q829.2656,512.1875 830.5781,510.5313 Q831.9063,508.875 834.4063,508.875 Q835.1094,508.875 835.75,509.0313 Q836.4063,509.1875 836.9688,509.4844 L836.9688,512.2031 Q836.3438,511.625 835.75,511.3594 Q835.1563,511.0781 834.5313,511.0781 Q833.1875,511.0781 832.5,512.1563 Q831.8125,513.2188 831.8125,515.3125 Q831.8125,517.4063 832.5,518.4844 Q833.1875,519.5469 834.5313,519.5469 Q835.1563,519.5469 835.75,519.2813 Q836.3438,519 836.9688,518.4219 L836.9688,521.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="76" x="848" y="519.6543">FlaskWorker</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="820" x2="926" y1="531.5" y2="531.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="820" x2="926" y1="539.5" y2="539.5"/><!--MD5=[182a5f28d356566e59ae05a80103f461]
class EventBusWorker--><rect fill="#FEFECE" filter="url(#f1xpim327l8whr)" height="60.8047" id="EventBusWorker" style="stroke: #A80036; stroke-width: 1.5;" width="134" x="725" y="70"/><ellipse cx="740" cy="86" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M742.9688,91.6406 Q742.3906,91.9375 741.75,92.0781 Q741.1094,92.2344 740.4063,92.2344 Q737.9063,92.2344 736.5781,90.5938 Q735.2656,88.9375 735.2656,85.8125 Q735.2656,82.6875 736.5781,81.0313 Q737.9063,79.375 740.4063,79.375 Q741.1094,79.375 741.75,79.5313 Q742.4063,79.6875 742.9688,79.9844 L742.9688,82.7031 Q742.3438,82.125 741.75,81.8594 Q741.1563,81.5781 740.5313,81.5781 Q739.1875,81.5781 738.5,82.6563 Q737.8125,83.7188 737.8125,85.8125 Q737.8125,87.9063 738.5,88.9844 Q739.1875,90.0469 740.5313,90.0469 Q741.1563,90.0469 741.75,89.7813 Q742.3438,89.5 742.9688,88.9219 L742.9688,91.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="102" x="754" y="90.1543">EventBusWorker</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="726" x2="858" y1="102" y2="102"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="726" x2="858" y1="110" y2="110"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="731" y="124.2104">republish(...)</text><!--MD5=[b8ceac0fa80782f074a52cffc9c838e7]
class main_func--><rect fill="#FEFECE" filter="url(#f1xpim327l8whr)" height="53.9375" id="main_func" style="stroke: #A80036; stroke-width: 1.5;" width="95" x="528.5" y="73.5"/><ellipse cx="543.5" cy="92.4688" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M546.4688,98.1094 Q545.8906,98.4063 545.25,98.5469 Q544.6094,98.7031 543.9063,98.7031 Q541.4063,98.7031 540.0781,97.0625 Q538.7656,95.4063 538.7656,92.2813 Q538.7656,89.1563 540.0781,87.5 Q541.4063,85.8438 543.9063,85.8438 Q544.6094,85.8438 545.25,86 Q545.9063,86.1563 546.4688,86.4531 L546.4688,89.1719 Q545.8438,88.5938 545.25,88.3281 Q544.6563,88.0469 544.0313,88.0469 Q542.6875,88.0469 542,89.125 Q541.3125,90.1875 541.3125,92.2813 Q541.3125,94.375 542,95.4531 Q542.6875,96.5156 544.0313,96.5156 Q544.6563,96.5156 545.25,96.25 Q545.8438,95.9688 546.4688,95.3906 L546.4688,98.1094 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="556.5" y="89.6387">«function»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="63" x="557.5" y="103.6074">main_func</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="529.5" x2="622.5" y1="111.4375" y2="111.4375"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="529.5" x2="622.5" y1="119.4375" y2="119.4375"/><!--MD5=[ca6a82bc40cebf8d03f527c80d8d0ada]
class create_app--><rect fill="#FEFECE" filter="url(#f1xpim327l8whr)" height="53.9375" id="create_app" style="stroke: #A80036; stroke-width: 1.5;" width="103" x="873.5" y="752"/><ellipse cx="888.5" cy="770.9688" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M891.4688,776.6094 Q890.8906,776.9063 890.25,777.0469 Q889.6094,777.2031 888.9063,777.2031 Q886.4063,777.2031 885.0781,775.5625 Q883.7656,773.9063 883.7656,770.7813 Q883.7656,767.6563 885.0781,766 Q886.4063,764.3438 888.9063,764.3438 Q889.6094,764.3438 890.25,764.5 Q890.9063,764.6563 891.4688,764.9531 L891.4688,767.6719 Q890.8438,767.0938 890.25,766.8281 Q889.6563,766.5469 889.0313,766.5469 Q887.6875,766.5469 887,767.625 Q886.3125,768.6875 886.3125,770.7813 Q886.3125,772.875 887,773.9531 Q887.6875,775.0156 889.0313,775.0156 Q889.6563,775.0156 890.25,774.75 Q890.8438,774.4688 891.4688,773.8906 L891.4688,776.6094 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="905.5" y="768.1387">«function»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="71" x="902.5" y="782.1074">create_app</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="874.5" x2="975.5" y1="789.9375" y2="789.9375"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="874.5" x2="975.5" y1="797.9375" y2="797.9375"/><!--MD5=[f507219cd4d5c3951ae035b8bcad56fb]
class ServerSentEventsAPI--><rect fill="#FEFECE" filter="url(#f1xpim327l8whr)" height="48" id="ServerSentEventsAPI" style="stroke: #A80036; stroke-width: 1.5;" width="162" x="873" y="1069"/><ellipse cx="888" cy="1085" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M890.9688,1090.6406 Q890.3906,1090.9375 889.75,1091.0781 Q889.1094,1091.2344 888.4063,1091.2344 Q885.9063,1091.2344 884.5781,1089.5938 Q883.2656,1087.9375 883.2656,1084.8125 Q883.2656,1081.6875 884.5781,1080.0313 Q885.9063,1078.375 888.4063,1078.375 Q889.1094,1078.375 889.75,1078.5313 Q890.4063,1078.6875 890.9688,1078.9844 L890.9688,1081.7031 Q890.3438,1081.125 889.75,1080.8594 Q889.1563,1080.5781 888.5313,1080.5781 Q887.1875,1080.5781 886.5,1081.6563 Q885.8125,1082.7188 885.8125,1084.8125 Q885.8125,1086.9063 886.5,1087.9844 Q887.1875,1089.0469 888.5313,1089.0469 Q889.1563,1089.0469 889.75,1088.7813 Q890.3438,1088.5 890.9688,1087.9219 L890.9688,1090.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="130" x="902" y="1089.1543">ServerSentEventsAPI</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="874" x2="1034" y1="1101" y2="1101"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="874" x2="1034" y1="1109" y2="1109"/><path d="M1012,736 L1012,775 L976.6797,779 L1012,783 L1012,821.6641 A0,0 0 0 0 1012,821.6641 L1230,821.6641 A0,0 0 0 0 1230,821.6641 L1230,746 L1220,736 L1012,736 A0,0 0 0 0 1012,736 " fill="#FBFB77" filter="url(#f1xpim327l8whr)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1220,736 L1220,746 L1230,746 L1220,736 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="1018" y="753.0669">create_app function will</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="1018" y="768.1997">create a Flask application</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="1018" y="783.3325">using ProcedureAPI, ActivityAPI</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="163" x="1018" y="798.4653">and ServerSentEventsAPI</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="1018" y="813.5981">blueprints.</text><!--MD5=[4ce79c04fa80ffb9cb46cd8e2bbde25d]
class ProcedureAPI--><rect fill="#FEFECE" filter="url(#f1xpim327l8whr)" height="48" id="ProcedureAPI" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="287" y="1369"/><ellipse cx="302" cy="1385" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M304.9688,1390.6406 Q304.3906,1390.9375 303.75,1391.0781 Q303.1094,1391.2344 302.4063,1391.2344 Q299.9063,1391.2344 298.5781,1389.5938 Q297.2656,1387.9375 297.2656,1384.8125 Q297.2656,1381.6875 298.5781,1380.0313 Q299.9063,1378.375 302.4063,1378.375 Q303.1094,1378.375 303.75,1378.5313 Q304.4063,1378.6875 304.9688,1378.9844 L304.9688,1381.7031 Q304.3438,1381.125 303.75,1380.8594 Q303.1563,1380.5781 302.5313,1380.5781 Q301.1875,1380.5781 300.5,1381.6563 Q299.8125,1382.7188 299.8125,1384.8125 Q299.8125,1386.9063 300.5,1387.9844 Q301.1875,1389.0469 302.5313,1389.0469 Q303.1563,1389.0469 303.75,1388.7813 Q304.3438,1388.5 304.9688,1387.9219 L304.9688,1390.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="316" y="1389.1543">ProcedureAPI</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="288" x2="402" y1="1401" y2="1401"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="288" x2="402" y1="1409" y2="1409"/><!--MD5=[4048a361f681e6f68b2b7284d5ce3ea6]
class ScriptExecutionService--><rect fill="#FEFECE" filter="url(#f1xpim327l8whr)" height="48" id="ScriptExecutionService" style="stroke: #A80036; stroke-width: 1.5;" width="174" x="229" y="755"/><ellipse cx="244" cy="771" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M246.9688,776.6406 Q246.3906,776.9375 245.75,777.0781 Q245.1094,777.2344 244.4063,777.2344 Q241.9063,777.2344 240.5781,775.5938 Q239.2656,773.9375 239.2656,770.8125 Q239.2656,767.6875 240.5781,766.0313 Q241.9063,764.375 244.4063,764.375 Q245.1094,764.375 245.75,764.5313 Q246.4063,764.6875 246.9688,764.9844 L246.9688,767.7031 Q246.3438,767.125 245.75,766.8594 Q245.1563,766.5781 244.5313,766.5781 Q243.1875,766.5781 242.5,767.6563 Q241.8125,768.7188 241.8125,770.8125 Q241.8125,772.9063 242.5,773.9844 Q243.1875,775.0469 244.5313,775.0469 Q245.1563,775.0469 245.75,774.7813 Q246.3438,774.5 246.9688,773.9219 L246.9688,776.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="142" x="258" y="775.1543">ScriptExecutionService</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="230" x2="402" y1="787" y2="787"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="230" x2="402" y1="795" y2="795"/><!--MD5=[e7d8196e07918ae0bfe9845dd523f856]
entity procedure.domain--><rect fill="#FFFFFF" filter="url(#f1xpim327l8whr)" height="36.2969" style="stroke: #000000; stroke-width: 1.5;" width="147" x="30.5" y="761"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="127" x="40.5" y="783.9951">procedure.domain</text><!--MD5=[8e7df3b3c6caa2b5fda68bf0406e2b4f]
class ActivityAPI--><rect fill="#FEFECE" filter="url(#f1xpim327l8whr)" height="48" id="ActivityAPI" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="704" y="1369"/><ellipse cx="719" cy="1385" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M721.9688,1390.6406 Q721.3906,1390.9375 720.75,1391.0781 Q720.1094,1391.2344 719.4063,1391.2344 Q716.9063,1391.2344 715.5781,1389.5938 Q714.2656,1387.9375 714.2656,1384.8125 Q714.2656,1381.6875 715.5781,1380.0313 Q716.9063,1378.375 719.4063,1378.375 Q720.1094,1378.375 720.75,1378.5313 Q721.4063,1378.6875 721.9688,1378.9844 L721.9688,1381.7031 Q721.3438,1381.125 720.75,1380.8594 Q720.1563,1380.5781 719.5313,1380.5781 Q718.1875,1380.5781 717.5,1381.6563 Q716.8125,1382.7188 716.8125,1384.8125 Q716.8125,1386.9063 717.5,1387.9844 Q718.1875,1389.0469 719.5313,1389.0469 Q720.1563,1389.0469 720.75,1388.7813 Q721.3438,1388.5 721.9688,1387.9219 L721.9688,1390.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="62" x="733" y="1389.1543">ActivityAPI</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="705" x2="797" y1="1401" y2="1401"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="705" x2="797" y1="1409" y2="1409"/><!--MD5=[15ee56ae12769c5f2e72f0b218579190]
class ActivityService--><rect fill="#FEFECE" filter="url(#f1xpim327l8whr)" height="48" id="ActivityService" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="664" y="755"/><ellipse cx="679" cy="771" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M681.9688,776.6406 Q681.3906,776.9375 680.75,777.0781 Q680.1094,777.2344 679.4063,777.2344 Q676.9063,777.2344 675.5781,775.5938 Q674.2656,773.9375 674.2656,770.8125 Q674.2656,767.6875 675.5781,766.0313 Q676.9063,764.375 679.4063,764.375 Q680.1094,764.375 680.75,764.5313 Q681.4063,764.6875 681.9688,764.9844 L681.9688,767.7031 Q681.3438,767.125 680.75,766.8594 Q680.1563,766.5781 679.5313,766.5781 Q678.1875,766.5781 677.5,767.6563 Q676.8125,768.7188 676.8125,770.8125 Q676.8125,772.9063 677.5,773.9844 Q678.1875,775.0469 679.5313,775.0469 Q680.1563,775.0469 680.75,774.7813 Q681.3438,774.5 681.9688,773.9219 L681.9688,776.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="88" x="693" y="775.1543">ActivityService</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="665" x2="783" y1="787" y2="787"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="665" x2="783" y1="795" y2="795"/><!--MD5=[0c03983d3823168c70d44b6b75ad3be3]
entity activity.domain--><rect fill="#FFFFFF" filter="url(#f1xpim327l8whr)" height="36.2969" style="stroke: #000000; stroke-width: 1.5;" width="121" x="478.5" y="761"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="101" x="488.5" y="783.9951">activity.domain</text><!--MD5=[56dc9bd079fa0794426dfac01e4747ad]
class Flask--><rect fill="#FEFECE" filter="url(#f1xpim327l8whr)" height="48" id="Flask" style="stroke: #A80036; stroke-width: 1.5;" width="64" x="947" y="1493"/><ellipse cx="962" cy="1509" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M964.9688,1514.6406 Q964.3906,1514.9375 963.75,1515.0781 Q963.1094,1515.2344 962.4063,1515.2344 Q959.9063,1515.2344 958.5781,1513.5938 Q957.2656,1511.9375 957.2656,1508.8125 Q957.2656,1505.6875 958.5781,1504.0313 Q959.9063,1502.375 962.4063,1502.375 Q963.1094,1502.375 963.75,1502.5313 Q964.4063,1502.6875 964.9688,1502.9844 L964.9688,1505.7031 Q964.3438,1505.125 963.75,1504.8594 Q963.1563,1504.5781 962.5313,1504.5781 Q961.1875,1504.5781 960.5,1505.6563 Q959.8125,1506.7188 959.8125,1508.8125 Q959.8125,1510.9063 960.5,1511.9844 Q961.1875,1513.0469 962.5313,1513.0469 Q963.1563,1513.0469 963.75,1512.7813 Q964.3438,1512.5 964.9688,1511.9219 L964.9688,1514.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="32" x="976" y="1513.1543">Flask</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="948" x2="1010" y1="1525" y2="1525"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="948" x2="1010" y1="1533" y2="1533"/><!--MD5=[687b898a26107f91307f914974ba425d]
class Blueprint--><rect fill="#FEFECE" filter="url(#f1xpim327l8whr)" height="48" id="Blueprint" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="824" y="1493"/><ellipse cx="839" cy="1509" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M841.9688,1514.6406 Q841.3906,1514.9375 840.75,1515.0781 Q840.1094,1515.2344 839.4063,1515.2344 Q836.9063,1515.2344 835.5781,1513.5938 Q834.2656,1511.9375 834.2656,1508.8125 Q834.2656,1505.6875 835.5781,1504.0313 Q836.9063,1502.375 839.4063,1502.375 Q840.1094,1502.375 840.75,1502.5313 Q841.4063,1502.6875 841.9688,1502.9844 L841.9688,1505.7031 Q841.3438,1505.125 840.75,1504.8594 Q840.1563,1504.5781 839.5313,1504.5781 Q838.1875,1504.5781 837.5,1505.6563 Q836.8125,1506.7188 836.8125,1508.8125 Q836.8125,1510.9063 837.5,1511.9844 Q838.1875,1513.0469 839.5313,1513.0469 Q840.1563,1513.0469 840.75,1512.7813 Q841.3438,1512.5 841.9688,1511.9219 L841.9688,1514.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="56" x="853" y="1513.1543">Blueprint</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="825" x2="911" y1="1525" y2="1525"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="825" x2="911" y1="1533" y2="1533"/><!--MD5=[2808396a93fd8872cd1a3c3690659d6a]
reverse link EventBusWorker to ScriptExecutionServiceWorker--><path d="M705.6989,118.2748 C661.1399,133.0349 616,159.3713 616,205.5 C616,205.5 616,205.5 616,412.5 C616,435.8126 603.736,456.6407 587.9748,473.782 " fill="none" id="EventBusWorker&lt;-ScriptExecutionServiceWorker" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="703.7941,111.5383,724.9599,112.5449,707.7861,124.9571,703.7941,111.5383" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[23aba4bc0d158aad32e01ce5d079dae1]
reverse link EventBusWorker to FlaskWorker--><path d="M821.0725,149.3967 C828.7807,166.5439 835,186.3216 835,205.5 C835,205.5 835,205.5 835,412.5 C835,443.6643 848.5733,477.2259 859.4956,499.1877 " fill="none" id="EventBusWorker&lt;-FlaskWorker" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="814.7175,152.34,811.9894,131.3267,827.2261,146.0523,814.7175,152.34" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[41dc59b21b446ce9253699f860855aeb]
reverse link EventBusWorker to ActivityWorker--><path d="M762.9275,149.3967 C755.2193,166.5439 749,186.3216 749,205.5 C749,205.5 749,205.5 749,412.5 C749,437.587 742.8473,465.1011 736.6465,486.46 " fill="none" id="EventBusWorker&lt;-ActivityWorker" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="756.7739,146.0523,772.0106,131.3267,769.2825,152.34,756.7739,146.0523" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[721b00a1839458ce8d9252232ac3da6d]
reverse link FlaskWorker to create_app--><path d="M880.5093,560.3966 C891.0746,612.3089 910.0825,705.7034 919.4597,751.7781 " fill="none" id="FlaskWorker&lt;-create_app" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="877.892,547.5368,875.169,554.214,880.2853,559.2957,883.0083,552.6185,877.892,547.5368" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[640230681217722b70e4344c1111c0bc]
link ScriptExecutionServiceWorker to ScriptExecutionService--><path d="M480.4249,573.0659 C438.22,625.9254 372.8466,707.8024 338.631,750.6557 " fill="none" id="ScriptExecutionServiceWorker-&gt;ScriptExecutionService" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="335.4189,754.6787,344.1604,750.1415,338.5387,750.7714,337.9088,745.1498,335.4189,754.6787" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[13c1bd68d2b0aee5a572e2ec8090692f]
link ActivityWorker to ActivityService--><path d="M724,560.6519 C724,611.8264 724,702.9621 724,749.6527 " fill="none" id="ActivityWorker-&gt;ActivityService" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="724,754.8481,728,745.8481,724,749.8481,720,745.8481,724,754.8481" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[027343c5ece8ce44fb2ca4550687439a]
link create_app to Flask--><path d="M969.1101,806.0385 C1017.3833,835.8074 1088,879.9599 1088,883.5 C1088,883.5 1088,883.5 1088,1393 C1088,1432.2947 1056.7405,1465.0643 1027.7018,1487.0283 " fill="none" id="create_app-&gt;Flask" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1031.5037,1492.9121,1011.1141,1498.6794,1023.4569,1481.4557,1031.5037,1492.9121" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[843e1ad0ff8513da99296763a4f7d610]
link ServerSentEventsAPI to Blueprint--><path d="M939.2374,1117.1183 C930.4509,1133.7481 921,1156.7019 921,1178.5 C921,1178.5 921,1178.5 921,1393 C921,1422.0434 908.5542,1452.057 895.7248,1475.2804 " fill="none" id="ServerSentEventsAPI-&gt;Blueprint" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="901.6137,1479.0723,885.3542,1492.6602,889.5914,1471.8985,901.6137,1479.0723" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[dea3d14b7ab0be75006bbcc6baf5ea14]
link ActivityAPI to Blueprint--><path d="M773.8365,1417.2028 C790.1841,1434.5285 812.5401,1458.222 831.3666,1478.1749 " fill="none" id="ActivityAPI-&gt;Blueprint" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="836.5868,1473.5075,845.2211,1492.8582,826.4041,1483.1154,836.5868,1473.5075" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[6223b881f1b87262f92596ed38b8c6aa]
link ProcedureAPI to Blueprint--><path d="M370.7785,1417.253 C384.4051,1428.7034 402.009,1441.4782 420,1449 C488.0584,1477.4543 696.8267,1500.712 803.6197,1511.1165 " fill="none" id="ProcedureAPI-&gt;Blueprint" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="804.6114,1504.1793,823.8537,1513.0526,803.2778,1518.1157,804.6114,1504.1793" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[72bbabe51077bbba87c7933a1735c5c3]
link EventBusWorker to mptools--><path d="M859.0971,107.9267 C903.2169,114.5992 963.7961,126.9939 1024.2936,149.6573 C1054.5424,160.989 1084.7707,174.8878 1112.911,191.9222 C1126.9811,200.4393 1140.5292,209.7404 1153.2969,219.8963 C1159.6807,224.9743 1165.8694,230.266 1171.8307,235.7803 C1174.8114,238.5375 1177.7352,241.3503 1180.598,244.2199 C1182.0295,245.6547 1183.4457,247.1037 1184.8462,248.567 C1185.5465,249.2986 1186.2428,250.0338 1186.9351,250.7727 C1187.2812,251.1421 1187.6264,251.5124 1187.9706,251.8836 " fill="none" id="EventBusWorker-mptools" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,3.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="1146" y="210.0669">uses</text><!--MD5=[6459838cede94b1fd55b774a7addb52f]
link procedure.application.service to procedure.application.api--><!--MD5=[b16030726aa42492e27418f8fa35d0a6]
link activity.application.service to activity.application.api--><!--MD5=[f5a00dd37dd57eae4175fefcbf354b0b]
link create_app to ServerSentEventsAPI--><!--MD5=[79b4092561cff322242773128209da24]
@startuml

package ska_oso_oet {

    skinparam noteFontSize<<not_implemented_note>> 50

    note as not_implemented_note
    **Note**
    This diagram represents a proposed refactoring
    of the current ska_oso_oet project structure and
    has not yet been implemented.
    end note

    package mptools <<Rectangle>> {
        note as mptools_note
        See the ScriptExecutionService
        view for more information on
        the ""mptools"" module and its
        contents.
        end note
    }

    package main <<Rectangle>> {

        class ScriptExecutionServiceWorker {
            prepare(...)
            start(...)
            stop(...)
            list(...)
        }

        class ActivityWorker {
            run(...)
            list(...)
        }

        class FlaskWorker {
        }

        class EventBusWorker {
            republish(...)
        }

        class main_func <<function>>

        ScriptExecutionServiceWorker -up-|> EventBusWorker
        FlaskWorker -up-|> EventBusWorker
        ActivityWorker -up-|> EventBusWorker
    }

    package app <<Rectangle>> {
        class create_app <<function>>
        class ServerSentEventsAPI

        note as app_note
        create_app function will
        create a Flask application
        using ProcedureAPI, ActivityAPI
        and ServerSentEventsAPI
        blueprints.
        end note

        app_note -left- create_app
    }

    FlaskWorker *- - create_app

    package procedure {

        package procedure.application <<Rectangle>> {

            package procedure.application.api <<Rectangle>> {
                class ProcedureAPI
            }

            package procedure.application.service <<Rectangle>> {
                class ScriptExecutionService
            }
        }

        package procedure.domain <<Rectangle>> {
        }
        ScriptExecutionServiceWorker - -> ScriptExecutionService

    }

    package activity {
        package activity.application <<Rectangle>> {
            package activity.application.api {
                class ActivityAPI
            }

            package activity.application.service {
                class ActivityService
            }
        }

        package activity.domain <<Rectangle>> {

        }
        ActivityWorker - -> ActivityService
    }
}

package flask {
    class Flask
    class Blueprint
}

create_app -|> Flask
ServerSentEventsAPI - -|> Blueprint
ActivityAPI - -|> Blueprint
ProcedureAPI - -|> Blueprint

EventBusWorker -[dotted]- mptools: uses

procedure.application.service -down[hidden]- procedure.application.api
activity.application.service -down[hidden]- activity.application.api
create_app -down[hidden]- ServerSentEventsAPI

@enduml

PlantUML version 1.2020.06(Sun Apr 05 12:38:32 GMT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 14-ea+33
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>