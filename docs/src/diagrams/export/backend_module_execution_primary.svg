<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1265px" preserveAspectRatio="none" style="width:1223px;height:1265px;" version="1.1" viewBox="0 0 1223 1265" width="1223px" zoomAndPan="magnify"><defs><filter height="300%" id="fqpqcqftqxuu7" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[4caa97c3b43e5ccb768f5326915ee1d4]
cluster ska_oso_oet.procedure--><polygon fill="#FFFFFF" filter="url(#fqpqcqftqxuu7)" points="14,16,204,16,211,38.2969,955,38.2969,955,1253,14,1253,14,16" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="14" x2="211" y1="38.2969" y2="38.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="184" x="18" y="30.9951">ska_oso_oet.procedure</text><!--MD5=[e05846e0557a046bf7b9258196848ed8]
cluster application_pkg--><polygon fill="#FFFFFF" filter="url(#fqpqcqftqxuu7)" points="22,43,113,43,120,65.2969,947,65.2969,947,861,22,861,22,43" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="120" y1="65.2969" y2="65.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="85" x="26" y="57.9951">application</text><!--MD5=[c1d103f90895134f040fa18b35926cd5]
cluster restclient--><rect fill="#FFFFFF" filter="url(#fqpqcqftqxuu7)" height="160" style="stroke: #000000; stroke-width: 1.5;" width="122" x="791" y="82.5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="75" x="814.5" y="97.4951">restclient</text><!--MD5=[a70b0d373322012744ecc119c63f921b]
cluster main--><rect fill="#FFFFFF" filter="url(#fqpqcqftqxuu7)" height="331" style="stroke: #000000; stroke-width: 1.5;" width="412" x="308" y="70"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="495.5" y="84.9951">main</text><!--MD5=[01b908eab77bdc64a587d21ad331408b]
cluster restserver--><rect fill="#FFFFFF" filter="url(#fqpqcqftqxuu7)" height="245" style="stroke: #000000; stroke-width: 1.5;" width="225" x="714" y="448.5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="84" x="784.5" y="463.4951">restserver</text><!--MD5=[3ff016c1aa5003d713567a073e2181a6]
cluster application--><rect fill="#FFFFFF" filter="url(#fqpqcqftqxuu7)" height="427" style="stroke: #000000; stroke-width: 1.5;" width="676" x="30" y="426"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="85" x="325.5" y="440.9951">application</text><!--MD5=[27f772719433d509ddbc20ff768eba08]
cluster domain--><rect fill="#FFFFFF" filter="url(#fqpqcqftqxuu7)" height="306" style="stroke: #000000; stroke-width: 1.5;" width="814" x="133" y="939"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="57" x="511.5" y="953.9951">domain</text><!--MD5=[71c2ab1c1c8272e025db689c64a870a2]
cluster flask--><polygon fill="#FFFFFF" filter="url(#fqpqcqftqxuu7)" points="963,610.5,1006,610.5,1013,632.7969,1201,632.7969,1201,693.5,963,693.5,963,610.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="963" x2="1013" y1="632.7969" y2="632.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="967" y="625.4951">flask</text><!--MD5=[9d427ac4c893214c110f9de4912e3cde]
class RestClientUI--><rect fill="#FEFECE" filter="url(#fqpqcqftqxuu7)" height="124.8281" id="RestClientUI" style="stroke: #A80036; stroke-width: 1.5;" width="107" x="798.5" y="109.5"/><ellipse cx="813.5" cy="125.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M816.4688,131.1406 Q815.8906,131.4375 815.25,131.5781 Q814.6094,131.7344 813.9063,131.7344 Q811.4063,131.7344 810.0781,130.0938 Q808.7656,128.4375 808.7656,125.3125 Q808.7656,122.1875 810.0781,120.5313 Q811.4063,118.875 813.9063,118.875 Q814.6094,118.875 815.25,119.0313 Q815.9063,119.1875 816.4688,119.4844 L816.4688,122.2031 Q815.8438,121.625 815.25,121.3594 Q814.6563,121.0781 814.0313,121.0781 Q812.6875,121.0781 812,122.1563 Q811.3125,123.2188 811.3125,125.3125 Q811.3125,127.4063 812,128.4844 Q812.6875,129.5469 814.0313,129.5469 Q814.6563,129.5469 815.25,129.2813 Q815.8438,129 816.4688,128.4219 L816.4688,131.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="75" x="827.5" y="129.6543">RestClientUI</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="799.5" x2="904.5" y1="141.5" y2="141.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="799.5" x2="904.5" y1="149.5" y2="149.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="804.5" y="163.7104">create(...)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="804.5" y="176.5151">start(...)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="804.5" y="189.3198">stop(...)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="804.5" y="202.1245">list(...)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="69" x="804.5" y="214.9292">describe(...)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="804.5" y="227.7339">listen(...)</text><!--MD5=[33f72e11af6101778dcafb71668d1add]
class ScriptExecutionServiceWorker--><rect fill="#FEFECE" filter="url(#fqpqcqftqxuu7)" height="150.4375" id="ScriptExecutionServiceWorker" style="stroke: #A80036; stroke-width: 1.5;" width="218" x="351" y="97"/><ellipse cx="366" cy="113" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M368.9688,118.6406 Q368.3906,118.9375 367.75,119.0781 Q367.1094,119.2344 366.4063,119.2344 Q363.9063,119.2344 362.5781,117.5938 Q361.2656,115.9375 361.2656,112.8125 Q361.2656,109.6875 362.5781,108.0313 Q363.9063,106.375 366.4063,106.375 Q367.1094,106.375 367.75,106.5313 Q368.4063,106.6875 368.9688,106.9844 L368.9688,109.7031 Q368.3438,109.125 367.75,108.8594 Q367.1563,108.5781 366.5313,108.5781 Q365.1875,108.5781 364.5,109.6563 Q363.8125,110.7188 363.8125,112.8125 Q363.8125,114.9063 364.5,115.9844 Q365.1875,117.0469 366.5313,117.0469 Q367.1563,117.0469 367.75,116.7813 Q368.3438,116.5 368.9688,115.9219 L368.9688,118.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="186" x="380" y="117.1543">ScriptExecutionServiceWorker</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="352" x2="568" y1="129" y2="129"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="352" x2="568" y1="137" y2="137"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="357" y="151.2104">prepare(...)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="357" y="164.0151">start(...)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="357" y="176.8198">stop(...)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="357" y="189.6245">list(...)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="159" x="357" y="202.4292">on_load(evt: EventMessage)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="154" x="357" y="215.2339">on_run(evt: EventMessage)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="155" x="357" y="228.0386">on_env(evt: EventMessage)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="177" x="357" y="240.8433">on_pubsub(evt: EventMessage)</text><!--MD5=[17238aaf72f47361d520c29dfe37cd7f]
class FlaskWorker--><rect fill="#FEFECE" filter="url(#fqpqcqftqxuu7)" height="48" id="FlaskWorker" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="604" y="148"/><ellipse cx="619" cy="164" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M621.9688,169.6406 Q621.3906,169.9375 620.75,170.0781 Q620.1094,170.2344 619.4063,170.2344 Q616.9063,170.2344 615.5781,168.5938 Q614.2656,166.9375 614.2656,163.8125 Q614.2656,160.6875 615.5781,159.0313 Q616.9063,157.375 619.4063,157.375 Q620.1094,157.375 620.75,157.5313 Q621.4063,157.6875 621.9688,157.9844 L621.9688,160.7031 Q621.3438,160.125 620.75,159.8594 Q620.1563,159.5781 619.5313,159.5781 Q618.1875,159.5781 617.5,160.6563 Q616.8125,161.7188 616.8125,163.8125 Q616.8125,165.9063 617.5,166.9844 Q618.1875,168.0469 619.5313,168.0469 Q620.1563,168.0469 620.75,167.7813 Q621.3438,167.5 621.9688,166.9219 L621.9688,169.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="76" x="633" y="168.1543">FlaskWorker</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="605" x2="711" y1="180" y2="180"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="605" x2="711" y1="188" y2="188"/><!--MD5=[182a5f28d356566e59ae05a80103f461]
class EventBusWorker--><rect fill="#FEFECE" filter="url(#fqpqcqftqxuu7)" height="86.4141" id="EventBusWorker" style="stroke: #A80036; stroke-width: 1.5;" width="134" x="316" y="307"/><ellipse cx="331" cy="323" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M333.9688,328.6406 Q333.3906,328.9375 332.75,329.0781 Q332.1094,329.2344 331.4063,329.2344 Q328.9063,329.2344 327.5781,327.5938 Q326.2656,325.9375 326.2656,322.8125 Q326.2656,319.6875 327.5781,318.0313 Q328.9063,316.375 331.4063,316.375 Q332.1094,316.375 332.75,316.5313 Q333.4063,316.6875 333.9688,316.9844 L333.9688,319.7031 Q333.3438,319.125 332.75,318.8594 Q332.1563,318.5781 331.5313,318.5781 Q330.1875,318.5781 329.5,319.6563 Q328.8125,320.7188 328.8125,322.8125 Q328.8125,324.9063 329.5,325.9844 Q330.1875,327.0469 331.5313,327.0469 Q332.1563,327.0469 332.75,326.7813 Q333.3438,326.5 333.9688,325.9219 L333.9688,328.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="102" x="345" y="327.1543">EventBusWorker</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="317" x2="449" y1="339" y2="339"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="317" x2="449" y1="347" y2="347"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="78" x="322" y="361.2104">main_loop(...)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="78" x="322" y="374.0151">main_func(...)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="322" y="386.8198">republish(...)</text><!--MD5=[d26137e5d461602f48e26353ca7979f6]
class app--><rect fill="#FEFECE" filter="url(#fqpqcqftqxuu7)" height="53.9375" id="app" style="stroke: #A80036; stroke-width: 1.5;" width="173" x="722.5" y="475.5"/><ellipse cx="737.5" cy="494.4688" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M740.4688,500.1094 Q739.8906,500.4063 739.25,500.5469 Q738.6094,500.7031 737.9063,500.7031 Q735.4063,500.7031 734.0781,499.0625 Q732.7656,497.4063 732.7656,494.2813 Q732.7656,491.1563 734.0781,489.5 Q735.4063,487.8438 737.9063,487.8438 Q738.6094,487.8438 739.25,488 Q739.9063,488.1563 740.4688,488.4531 L740.4688,491.1719 Q739.8438,490.5938 739.25,490.3281 Q738.6563,490.0469 738.0313,490.0469 Q736.6875,490.0469 736,491.125 Q735.3125,492.1875 735.3125,494.2813 Q735.3125,496.375 736,497.4531 Q736.6875,498.5156 738.0313,498.5156 Q738.6563,498.5156 739.25,498.25 Q739.8438,497.9688 740.4688,497.3906 L740.4688,500.1094 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="145" x="749.5" y="491.6387">«function return value»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="24" x="810" y="505.6074">app</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="723.5" x2="894.5" y1="513.4375" y2="513.4375"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="723.5" x2="894.5" y1="521.4375" y2="521.4375"/><!--MD5=[4ce79c04fa80ffb9cb46cd8e2bbde25d]
class ProcedureAPI--><rect fill="#FEFECE" filter="url(#fqpqcqftqxuu7)" height="48" id="ProcedureAPI" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="783" y="637.5"/><ellipse cx="798" cy="653.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M800.9688,659.1406 Q800.3906,659.4375 799.75,659.5781 Q799.1094,659.7344 798.4063,659.7344 Q795.9063,659.7344 794.5781,658.0938 Q793.2656,656.4375 793.2656,653.3125 Q793.2656,650.1875 794.5781,648.5313 Q795.9063,646.875 798.4063,646.875 Q799.1094,646.875 799.75,647.0313 Q800.4063,647.1875 800.9688,647.4844 L800.9688,650.2031 Q800.3438,649.625 799.75,649.3594 Q799.1563,649.0781 798.5313,649.0781 Q797.1875,649.0781 796.5,650.1563 Q795.8125,651.2188 795.8125,653.3125 Q795.8125,655.4063 796.5,656.4844 Q797.1875,657.5469 798.5313,657.5469 Q799.1563,657.5469 799.75,657.2813 Q800.3438,657 800.9688,656.4219 L800.9688,659.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="812" y="657.6543">ProcedureAPI</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="784" x2="898" y1="669.5" y2="669.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="784" x2="898" y1="677.5" y2="677.5"/><!--MD5=[4048a361f681e6f68b2b7284d5ce3ea6]
class ScriptExecutionService--><rect fill="#FEFECE" filter="url(#fqpqcqftqxuu7)" height="99.2188" id="ScriptExecutionService" style="stroke: #A80036; stroke-width: 1.5;" width="380" x="307" y="453"/><ellipse cx="421.75" cy="469" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M424.7188,474.6406 Q424.1406,474.9375 423.5,475.0781 Q422.8594,475.2344 422.1563,475.2344 Q419.6563,475.2344 418.3281,473.5938 Q417.0156,471.9375 417.0156,468.8125 Q417.0156,465.6875 418.3281,464.0313 Q419.6563,462.375 422.1563,462.375 Q422.8594,462.375 423.5,462.5313 Q424.1563,462.6875 424.7188,462.9844 L424.7188,465.7031 Q424.0938,465.125 423.5,464.8594 Q422.9063,464.5781 422.2813,464.5781 Q420.9375,464.5781 420.25,465.6563 Q419.5625,466.7188 419.5625,468.8125 Q419.5625,470.9063 420.25,471.9844 Q420.9375,473.0469 422.2813,473.0469 Q422.9063,473.0469 423.5,472.7813 Q424.0938,472.5 424.7188,471.9219 L424.7188,474.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="142" x="442.25" y="473.1543">ScriptExecutionService</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="308" x2="686" y1="485" y2="485"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="308" x2="686" y1="493" y2="493"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="368" x="313" y="507.2104">prepare(cmd: PrepareProcessCommand) -&gt; ProcedureSummary</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="333" x="313" y="520.0151">start(cmd: StartProcessCommand) -&gt; ProcedureSummary</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="357" x="313" y="532.8198">stop(cmd: StopProcessCommand) -&gt; List[ProcedureSummary]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="313" x="313" y="545.6245">summarise(pids: List[int]) -&gt; List[[ProcedureSummary]</text><!--MD5=[6400ffe083689ac1542ec7825ea5fe0e]
class ProcedureSummary--><rect fill="#FEFECE" filter="url(#fqpqcqftqxuu7)" height="99.2188" id="ProcedureSummary" style="stroke: #A80036; stroke-width: 1.5;" width="192" x="276" y="612"/><ellipse cx="308.1" cy="628" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M311.0688,633.6406 Q310.4906,633.9375 309.85,634.0781 Q309.2094,634.2344 308.5063,634.2344 Q306.0063,634.2344 304.6781,632.5938 Q303.3656,630.9375 303.3656,627.8125 Q303.3656,624.6875 304.6781,623.0313 Q306.0063,621.375 308.5063,621.375 Q309.2094,621.375 309.85,621.5313 Q310.5063,621.6875 311.0688,621.9844 L311.0688,624.7031 Q310.4438,624.125 309.85,623.8594 Q309.2563,623.5781 308.6313,623.5781 Q307.2875,623.5781 306.6,624.6563 Q305.9125,625.7188 305.9125,627.8125 Q305.9125,629.9063 306.6,630.9844 Q307.2875,632.0469 308.6313,632.0469 Q309.2563,632.0469 309.85,631.7813 Q310.4438,631.5 311.0688,630.9219 L311.0688,633.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="122" x="325.9" y="632.1543">ProcedureSummary</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="277" x2="467" y1="644" y2="644"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="32" x="282" y="658.2104">id: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="180" x="282" y="671.0151">script: domain.ExecutableScript</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="164" x="282" y="683.8198">script_args: List[ArgCapture]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="171" x="282" y="696.6245">state: domain.ProcedureState</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="277" x2="467" y1="703.2188" y2="703.2188"/><!--MD5=[983b3c90bf08e5f8cd553d5ff076bc9b]
class ArgCapture--><rect fill="#FEFECE" filter="url(#fqpqcqftqxuu7)" height="86.4141" id="ArgCapture" style="stroke: #A80036; stroke-width: 1.5;" width="195" x="503.5" y="618.5"/><ellipse cx="561.25" cy="634.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M564.2188,640.1406 Q563.6406,640.4375 563,640.5781 Q562.3594,640.7344 561.6563,640.7344 Q559.1563,640.7344 557.8281,639.0938 Q556.5156,637.4375 556.5156,634.3125 Q556.5156,631.1875 557.8281,629.5313 Q559.1563,627.875 561.6563,627.875 Q562.3594,627.875 563,628.0313 Q563.6563,628.1875 564.2188,628.4844 L564.2188,631.2031 Q563.5938,630.625 563,630.3594 Q562.4063,630.0781 561.7813,630.0781 Q560.4375,630.0781 559.75,631.1563 Q559.0625,632.2188 559.0625,634.3125 Q559.0625,636.4063 559.75,637.4844 Q560.4375,638.5469 561.7813,638.5469 Q562.4063,638.5469 563,638.2813 Q563.5938,638 564.2188,637.4219 L564.2188,640.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="71" x="581.75" y="638.6543">ArgCapture</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="504.5" x2="697.5" y1="650.5" y2="650.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="509.5" y="664.7104">fn: str</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="183" x="509.5" y="677.5151">fn_args: domain.ProcedureInput</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="58" x="509.5" y="690.3198">time: float</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="504.5" x2="697.5" y1="696.9141" y2="696.9141"/><!--MD5=[22b6e3484d9aeab608aa525a34a7a5de]
class ProcedureHistory--><rect fill="#FEFECE" filter="url(#fqpqcqftqxuu7)" height="73.6094" id="ProcedureHistory" style="stroke: #A80036; stroke-width: 1.5;" width="265" x="274.5" y="771"/><ellipse cx="348.75" cy="787" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M351.7188,792.6406 Q351.1406,792.9375 350.5,793.0781 Q349.8594,793.2344 349.1563,793.2344 Q346.6563,793.2344 345.3281,791.5938 Q344.0156,789.9375 344.0156,786.8125 Q344.0156,783.6875 345.3281,782.0313 Q346.6563,780.375 349.1563,780.375 Q349.8594,780.375 350.5,780.5313 Q351.1563,780.6875 351.7188,780.9844 L351.7188,783.7031 Q351.0938,783.125 350.5,782.8594 Q349.9063,782.5781 349.2813,782.5781 Q347.9375,782.5781 347.25,783.6563 Q346.5625,784.7188 346.5625,786.8125 Q346.5625,788.9063 347.25,789.9844 Q347.9375,791.0469 349.2813,791.0469 Q349.9063,791.0469 350.5,790.7813 Q351.0938,790.5 351.7188,789.9219 L351.7188,792.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="369.25" y="791.1543">ProcedureHistory</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="275.5" x2="538.5" y1="803" y2="803"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="253" x="280.5" y="817.2104">process_states: List[(ProcedureState, time)]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="280.5" y="830.0151">stacktrace: Optional[str]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="275.5" x2="538.5" y1="836.6094" y2="836.6094"/><!--MD5=[b160dcce9b08a809ce85f2ff29fa367c]
class PrepareProcessCommand--><rect fill="#FEFECE" filter="url(#fqpqcqftqxuu7)" height="73.6094" id="PrepareProcessCommand" style="stroke: #A80036; stroke-width: 1.5;" width="201" x="38.5" y="771"/><ellipse cx="56.65" cy="787" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M59.6188,792.6406 Q59.0406,792.9375 58.4,793.0781 Q57.7594,793.2344 57.0563,793.2344 Q54.5563,793.2344 53.2281,791.5938 Q51.9156,789.9375 51.9156,786.8125 Q51.9156,783.6875 53.2281,782.0313 Q54.5563,780.375 57.0563,780.375 Q57.7594,780.375 58.4,780.5313 Q59.0563,780.6875 59.6188,780.9844 L59.6188,783.7031 Q58.9938,783.125 58.4,782.8594 Q57.8063,782.5781 57.1813,782.5781 Q55.8375,782.5781 55.15,783.6563 Q54.4625,784.7188 54.4625,786.8125 Q54.4625,788.9063 55.15,789.9844 Q55.8375,791.0469 57.1813,791.0469 Q57.8063,791.0469 58.4,790.7813 Q58.9938,790.5 59.6188,789.9219 L59.6188,792.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="162" x="71.35" y="791.1543">PrepareProcessCommand</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39.5" x2="238.5" y1="803" y2="803"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="180" x="44.5" y="817.2104">script: domain.ExecutableScript</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="189" x="44.5" y="830.0151">init_args: domain.ProcedureInput</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39.5" x2="238.5" y1="836.6094" y2="836.6094"/><!--MD5=[0a8e784e9ba9565fe84d8c228ee2a213]
class StartProcessCommand--><rect fill="#FEFECE" filter="url(#fqpqcqftqxuu7)" height="86.4141" id="StartProcessCommand" style="stroke: #A80036; stroke-width: 1.5;" width="203" x="37.5" y="618.5"/><ellipse cx="65.1" cy="634.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M68.0688,640.1406 Q67.4906,640.4375 66.85,640.5781 Q66.2094,640.7344 65.5063,640.7344 Q63.0062,640.7344 61.6781,639.0938 Q60.3656,637.4375 60.3656,634.3125 Q60.3656,631.1875 61.6781,629.5313 Q63.0062,627.875 65.5063,627.875 Q66.2094,627.875 66.85,628.0313 Q67.5063,628.1875 68.0688,628.4844 L68.0688,631.2031 Q67.4438,630.625 66.85,630.3594 Q66.2563,630.0781 65.6313,630.0781 Q64.2875,630.0781 63.6,631.1563 Q62.9125,632.2188 62.9125,634.3125 Q62.9125,636.4063 63.6,637.4844 Q64.2875,638.5469 65.6313,638.5469 Q66.2563,638.5469 66.85,638.2813 Q67.4438,638 68.0688,637.4219 L68.0688,640.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="143" x="81.9" y="638.6543">StartProcessCommand</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="38.5" x2="239.5" y1="650.5" y2="650.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="43.5" y="664.7104">process_uid: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="43.5" y="677.5151">fn_name: str</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="191" x="43.5" y="690.3198">run_args: domain.ProcedureInput</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="38.5" x2="239.5" y1="696.9141" y2="696.9141"/><!--MD5=[333b187127690081bdcb02f6bb878b0d]
class StopProcessCommand--><rect fill="#FEFECE" filter="url(#fqpqcqftqxuu7)" height="73.6094" id="StopProcessCommand" style="stroke: #A80036; stroke-width: 1.5;" width="173" x="98.5" y="465.5"/><ellipse cx="113.5" cy="481.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M116.4688,487.1406 Q115.8906,487.4375 115.25,487.5781 Q114.6094,487.7344 113.9063,487.7344 Q111.4063,487.7344 110.0781,486.0938 Q108.7656,484.4375 108.7656,481.3125 Q108.7656,478.1875 110.0781,476.5313 Q111.4063,474.875 113.9063,474.875 Q114.6094,474.875 115.25,475.0313 Q115.9063,475.1875 116.4688,475.4844 L116.4688,478.2031 Q115.8438,477.625 115.25,477.3594 Q114.6563,477.0781 114.0313,477.0781 Q112.6875,477.0781 112,478.1563 Q111.3125,479.2188 111.3125,481.3125 Q111.3125,483.4063 112,484.4844 Q112.6875,485.5469 114.0313,485.5469 Q114.6563,485.5469 115.25,485.2813 Q115.8438,485 116.4688,484.4219 L116.4688,487.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="141" x="127.5" y="485.6543">StopProcessCommand</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="99.5" x2="270.5" y1="497.5" y2="497.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="104.5" y="511.7104">process_uid: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="104.5" y="524.5151">run_abort: bool</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="99.5" x2="270.5" y1="531.1094" y2="531.1094"/><!--MD5=[13263f9aae361c96bd995cd1c2420d0a]
class ExecutableScript--><rect fill="#FEFECE" filter="url(#fqpqcqftqxuu7)" height="48" id="ExecutableScript" style="stroke: #A80036; stroke-width: 1.5;" width="138" x="615" y="1189"/><ellipse cx="630" cy="1205" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M630.1094,1200.3438 L628.9531,1205.4219 L631.2813,1205.4219 L630.1094,1200.3438 Z M628.625,1198.1094 L631.6094,1198.1094 L634.9688,1210.5 L632.5156,1210.5 L631.75,1207.4375 L628.4688,1207.4375 L627.7188,1210.5 L625.2813,1210.5 L628.625,1198.1094 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="106" x="644" y="1209.1543">ExecutableScript</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="616" x2="752" y1="1221" y2="1221"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="616" x2="752" y1="1229" y2="1229"/><!--MD5=[5388228dfd16e8b25647ca0284da0e89]
class GitScript--><rect fill="#FEFECE" filter="url(#fqpqcqftqxuu7)" height="48" id="GitScript" style="stroke: #A80036; stroke-width: 1.5;" width="85" x="477.5" y="1023.5"/><ellipse cx="492.5" cy="1039.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M495.4688,1045.1406 Q494.8906,1045.4375 494.25,1045.5781 Q493.6094,1045.7344 492.9063,1045.7344 Q490.4063,1045.7344 489.0781,1044.0938 Q487.7656,1042.4375 487.7656,1039.3125 Q487.7656,1036.1875 489.0781,1034.5313 Q490.4063,1032.875 492.9063,1032.875 Q493.6094,1032.875 494.25,1033.0313 Q494.9063,1033.1875 495.4688,1033.4844 L495.4688,1036.2031 Q494.8438,1035.625 494.25,1035.3594 Q493.6563,1035.0781 493.0313,1035.0781 Q491.6875,1035.0781 491,1036.1563 Q490.3125,1037.2188 490.3125,1039.3125 Q490.3125,1041.4063 491,1042.4844 Q491.6875,1043.5469 493.0313,1043.5469 Q493.6563,1043.5469 494.25,1043.2813 Q494.8438,1043 495.4688,1042.4219 L495.4688,1045.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="53" x="506.5" y="1043.6543">GitScript</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="478.5" x2="561.5" y1="1055.5" y2="1055.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="478.5" x2="561.5" y1="1063.5" y2="1063.5"/><!--MD5=[a69e1ba87608a25246e7971a0bc46dd9]
class FilesystemScript--><rect fill="#FEFECE" filter="url(#fqpqcqftqxuu7)" height="48" id="FilesystemScript" style="stroke: #A80036; stroke-width: 1.5;" width="133" x="805.5" y="1023.5"/><ellipse cx="820.5" cy="1039.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M823.4688,1045.1406 Q822.8906,1045.4375 822.25,1045.5781 Q821.6094,1045.7344 820.9063,1045.7344 Q818.4063,1045.7344 817.0781,1044.0938 Q815.7656,1042.4375 815.7656,1039.3125 Q815.7656,1036.1875 817.0781,1034.5313 Q818.4063,1032.875 820.9063,1032.875 Q821.6094,1032.875 822.25,1033.0313 Q822.9063,1033.1875 823.4688,1033.4844 L823.4688,1036.2031 Q822.8438,1035.625 822.25,1035.3594 Q821.6563,1035.0781 821.0313,1035.0781 Q819.6875,1035.0781 819,1036.1563 Q818.3125,1037.2188 818.3125,1039.3125 Q818.3125,1041.4063 819,1042.4844 Q819.6875,1043.5469 821.0313,1043.5469 Q821.6563,1043.5469 822.25,1043.2813 Q822.8438,1043 823.4688,1042.4219 L823.4688,1045.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="101" x="834.5" y="1043.6543">FilesystemScript</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="806.5" x2="937.5" y1="1055.5" y2="1055.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="806.5" x2="937.5" y1="1063.5" y2="1063.5"/><!--MD5=[4cd8da3cc660ccc805077feb75940c49]
class EmbeddedStringScript--><rect fill="#FEFECE" filter="url(#fqpqcqftqxuu7)" height="48" id="EmbeddedStringScript" style="stroke: #A80036; stroke-width: 1.5;" width="172" x="598" y="1023.5"/><ellipse cx="613" cy="1039.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M615.9688,1045.1406 Q615.3906,1045.4375 614.75,1045.5781 Q614.1094,1045.7344 613.4063,1045.7344 Q610.9063,1045.7344 609.5781,1044.0938 Q608.2656,1042.4375 608.2656,1039.3125 Q608.2656,1036.1875 609.5781,1034.5313 Q610.9063,1032.875 613.4063,1032.875 Q614.1094,1032.875 614.75,1033.0313 Q615.4063,1033.1875 615.9688,1033.4844 L615.9688,1036.2031 Q615.3438,1035.625 614.75,1035.3594 Q614.1563,1035.0781 613.5313,1035.0781 Q612.1875,1035.0781 611.5,1036.1563 Q610.8125,1037.2188 610.8125,1039.3125 Q610.8125,1041.4063 611.5,1042.4844 Q612.1875,1043.5469 613.5313,1043.5469 Q614.1563,1043.5469 614.75,1043.2813 Q615.3438,1043 615.9688,1042.4219 L615.9688,1045.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="140" x="627" y="1043.6543">EmbeddedStringScript</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="599" x2="769" y1="1055.5" y2="1055.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="599" x2="769" y1="1063.5" y2="1063.5"/><!--MD5=[21e0a38580498e330e866f309f232236]
class ProcedureState--><rect fill="#FEFECE" filter="url(#fqpqcqftqxuu7)" height="163.2422" id="ProcedureState" style="stroke: #A80036; stroke-width: 1.5;" width="131" x="141.5" y="966"/><ellipse cx="156.5" cy="982" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M160.6094,988 L152.8906,988 L152.8906,975.6094 L160.6094,975.6094 L160.6094,977.7656 L155.3438,977.7656 L155.3438,980.4375 L160.1094,980.4375 L160.1094,982.5938 L155.3438,982.5938 L155.3438,985.8438 L160.6094,985.8438 L160.6094,988 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="99" x="170.5" y="986.1543">ProcedureState</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="142.5" x2="271.5" y1="998" y2="998"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="57" x="147.5" y="1012.2104">UNKNOWN</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="147.5" y="1025.0151">CREATING</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="24" x="147.5" y="1037.8198">IDLE</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="50" x="147.5" y="1050.6245">LOADING</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="147.5" y="1063.4292">READY</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="147.5" y="1076.2339">RUNNING</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="60" x="147.5" y="1089.0386">COMPLETE</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="53" x="147.5" y="1101.8433">STOPPED</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="147.5" y="1114.6479">FAILED</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="142.5" x2="271.5" y1="1121.2422" y2="1121.2422"/><!--MD5=[8cd6aba8f60734d95fc306fd5c65d7ab]
class ProcedureInput--><rect fill="#FEFECE" filter="url(#fqpqcqftqxuu7)" height="73.6094" id="ProcedureInput" style="stroke: #A80036; stroke-width: 1.5;" width="134" x="308" y="1010.5"/><ellipse cx="325.25" cy="1026.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M328.2188,1032.1406 Q327.6406,1032.4375 327,1032.5781 Q326.3594,1032.7344 325.6563,1032.7344 Q323.1563,1032.7344 321.8281,1031.0938 Q320.5156,1029.4375 320.5156,1026.3125 Q320.5156,1023.1875 321.8281,1021.5313 Q323.1563,1019.875 325.6563,1019.875 Q326.3594,1019.875 327,1020.0313 Q327.6563,1020.1875 328.2188,1020.4844 L328.2188,1023.2031 Q327.5938,1022.625 327,1022.3594 Q326.4063,1022.0781 325.7813,1022.0781 Q324.4375,1022.0781 323.75,1023.1563 Q323.0625,1024.2188 323.0625,1026.3125 Q323.0625,1028.4063 323.75,1029.4844 Q324.4375,1030.5469 325.7813,1030.5469 Q326.4063,1030.5469 327,1030.2813 Q327.5938,1030 328.2188,1029.4219 L328.2188,1032.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="97" x="339.75" y="1030.6543">ProcedureInput</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="309" x2="441" y1="1042.5" y2="1042.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="54" x="314" y="1056.7104">args: List</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="122" x="314" y="1069.5151">kwargs: Dict[str, Any]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="309" x2="441" y1="1076.1094" y2="1076.1094"/><!--MD5=[56dc9bd079fa0794426dfac01e4747ad]
class Flask--><rect fill="#FEFECE" filter="url(#fqpqcqftqxuu7)" height="48" id="Flask" style="stroke: #A80036; stroke-width: 1.5;" width="64" x="971" y="637.5"/><ellipse cx="986" cy="653.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M988.9688,659.1406 Q988.3906,659.4375 987.75,659.5781 Q987.1094,659.7344 986.4063,659.7344 Q983.9063,659.7344 982.5781,658.0938 Q981.2656,656.4375 981.2656,653.3125 Q981.2656,650.1875 982.5781,648.5313 Q983.9063,646.875 986.4063,646.875 Q987.1094,646.875 987.75,647.0313 Q988.4063,647.1875 988.9688,647.4844 L988.9688,650.2031 Q988.3438,649.625 987.75,649.3594 Q987.1563,649.0781 986.5313,649.0781 Q985.1875,649.0781 984.5,650.1563 Q983.8125,651.2188 983.8125,653.3125 Q983.8125,655.4063 984.5,656.4844 Q985.1875,657.5469 986.5313,657.5469 Q987.1563,657.5469 987.75,657.2813 Q988.3438,657 988.9688,656.4219 L988.9688,659.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="32" x="1000" y="657.6543">Flask</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="972" x2="1034" y1="669.5" y2="669.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="972" x2="1034" y1="677.5" y2="677.5"/><!--MD5=[687b898a26107f91307f914974ba425d]
class Blueprint--><rect fill="#FEFECE" filter="url(#fqpqcqftqxuu7)" height="48" id="Blueprint" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="1070" y="637.5"/><ellipse cx="1085" cy="653.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1087.9688,659.1406 Q1087.3906,659.4375 1086.75,659.5781 Q1086.1094,659.7344 1085.4063,659.7344 Q1082.9063,659.7344 1081.5781,658.0938 Q1080.2656,656.4375 1080.2656,653.3125 Q1080.2656,650.1875 1081.5781,648.5313 Q1082.9063,646.875 1085.4063,646.875 Q1086.1094,646.875 1086.75,647.0313 Q1087.4063,647.1875 1087.9688,647.4844 L1087.9688,650.2031 Q1087.3438,649.625 1086.75,649.3594 Q1086.1563,649.0781 1085.5313,649.0781 Q1084.1875,649.0781 1083.5,650.1563 Q1082.8125,651.2188 1082.8125,653.3125 Q1082.8125,655.4063 1083.5,656.4844 Q1084.1875,657.5469 1085.5313,657.5469 Q1086.1563,657.5469 1086.75,657.2813 Q1087.3438,657 1087.9688,656.4219 L1087.9688,659.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="56" x="1099" y="657.6543">Blueprint</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1071" x2="1157" y1="669.5" y2="669.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1071" x2="1157" y1="677.5" y2="677.5"/><!--MD5=[2dcef3fd26659446edefb67ee5b3bba0]
link ScriptExecutionServiceWorker to EventBusWorker--><path d="M427.4567,247.23 C419.3904,265.8768 410.9666,285.35 403.6481,302.2681 " fill="none" id="ScriptExecutionServiceWorker-&gt;EventBusWorker" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="401.6144,306.9693,408.8589,300.2972,403.5996,302.3803,401.5165,297.1209,401.6144,306.9693" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[0588a888a6ac03d9a4287ccaf86a00ac]
link FlaskWorker to EventBusWorker--><path d="M639.0083,196.0399 C625.6488,211.8793 606.7001,232.3271 587,247 C546.4867,277.1749 495.8099,302.8131 455.1011,320.963 " fill="none" id="FlaskWorker-&gt;EventBusWorker" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="450.1874,323.139,460.0362,323.152,454.7591,321.1143,456.7968,315.8372,450.1874,323.139" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[3d6ca7dcc7a7afbc940ca6040b71f5db]
reverse link app to ProcedureAPI--><path d="M817.1037,542.7653 C823.1104,572.611 831.0987,612.3027 836.146,637.3817 " fill="none" id="app&lt;-ProcedureAPI" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="814.501,529.8331,811.7635,536.5044,816.8687,541.5972,819.6062,534.9259,814.501,529.8331" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[d9c010a6c726993165493b57eb65ce55]
link ProcedureSummary to ArgCapture--><path d="M468.1621,661.5 C473.216,661.5 478.2698,661.5 483.3237,661.5 " fill="none" id="ProcedureSummary-&gt;ArgCapture" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="483.4472,654.4999,503.4472,661.5,483.4471,668.4999,483.4472,654.4999" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[670a92a197175b32c692a49afe2e6446]
link ProcedureSummary to ProcedureHistory--><path d="M383.8494,711.0982 C388.0909,728.8518 392.8285,748.682 396.9076,765.7559 " fill="none" id="ProcedureSummary-&gt;ProcedureHistory" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="398.1511,770.9609,399.9503,761.2778,396.9892,766.0978,392.1693,763.1367,398.1511,770.9609" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[0a6a154b20825b18d17e4f923c1e1b41]
link StartProcessCommand to PrepareProcessCommand--><!--MD5=[88322577ce844aefa0a21be90dc7ed11]
link StopProcessCommand to StartProcessCommand--><!--MD5=[e4f2f32f24c45f71dd786268467d1361]
reverse link FlaskWorker to app--><path d="M674.4252,207.9504 C704.8809,274.6103 769.4747,415.9894 796.5979,475.3551 " fill="none" id="FlaskWorker&lt;-app" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="668.9812,196.035,667.8363,203.1546,673.9679,206.9498,675.1128,199.8301,668.9812,196.035" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[b27ef9488cbe5fea9ddc8e8bcf6514b7]
reverse link ScriptExecutionServiceWorker to ScriptExecutionService--><path d="M486.0801,259.9387 C489.7481,275.4892 492.9592,291.6238 495,307 C501.5424,356.2939 501.2518,413.1932 499.8062,452.8503 " fill="none" id="ScriptExecutionServiceWorker&lt;-ScriptExecutionService" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="482.9072,247.0431,480.4566,253.825,485.7743,258.6956,488.2249,251.9136,482.9072,247.0431" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[372912cf6ec7d18640636b9aa66210a3]
link GitScript to ExecutableScript--><path d="M535.6732,1071.5374 C547.2342,1088.4433 563.8719,1111.1437 581,1129 C600.9165,1149.7632 625.8664,1170.2277 646.2218,1185.7588 " fill="none" id="GitScript-&gt;ExecutableScript" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="650.2288,1188.7979,645.4752,1180.1722,646.245,1185.7764,640.6408,1186.5462,650.2288,1188.7979" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[cc4b0d9d439cbc60cc82c97faef1d0fb]
link FilesystemScript to ExecutableScript--><path d="M848.2914,1071.6341 C831.7607,1088.1778 808.9912,1110.4083 788,1129 C765.8475,1148.6203 739.9637,1169.5332 719.5603,1185.5843 " fill="none" id="FilesystemScript-&gt;ExecutableScript" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="715.5554,1188.7279,725.1048,1186.3176,719.4885,1185.6408,720.1653,1180.0245,715.5554,1188.7279" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[0de5c1a0b63c2d3fc2b14a53bd70ebf0]
link EmbeddedStringScript to ExecutableScript--><path d="M684,1071.5651 C684,1101.2268 684,1151.6145 684,1183.5552 " fill="none" id="EmbeddedStringScript-&gt;ExecutableScript" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="684,1188.9058,688,1179.9058,684,1183.9058,680,1179.9058,684,1188.9058" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[ceb1a7694f2998abcda09fad6019829b]
link ProcedureHistory to ProcedureState--><path d="M372.8281,845.262 C349.361,871.1707 317.742,906.7155 291,939 C284.9737,946.2753 278.7988,953.9002 272.6658,961.5918 " fill="none" id="ProcedureHistory-&gt;ProcedureState" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="269.2642,965.8699,277.9964,961.3148,272.376,961.9562,271.7345,956.3359,269.2642,965.8699" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[2fdfc5020cc774548334809f7828d98d]
link ProcedureSummary to ProcedureInput--><path d="M468.1049,707.1894 C507.4564,728.0535 546.3013,752.2353 557,771 C576.812,805.7489 574.2823,824.9262 557,861 C533.0984,910.8905 498.8681,899.6348 460,939 C439.5886,959.6724 419.4201,985.1397 403.8548,1006.2046 " fill="none" id="ProcedureSummary-&gt;ProcedureInput" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="400.8043,1010.3562,409.3568,1005.4722,403.765,1006.327,402.9101,1000.7351,400.8043,1010.3562" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[7bc91e66d2a1940da7a755ed03b9f1fc]
link app to Flask--><path d="M845.0361,529.5296 C873.228,550.9544 913.183,581.9368 947,610.5 C952.0732,614.785 957.324,619.364 962.4849,623.9544 " fill="none" id="app-&gt;Flask" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="967.2962,618.8675,977.4307,637.4764,957.9035,629.2491,967.2962,618.8675" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[6223b881f1b87262f92596ed38b8c6aa]
link ProcedureAPI to Blueprint--><path d="M869.8487,637.3944 C895.1127,617.9615 933.7495,592.1402 972.5,581.25 C999.4557,573.6745 1009.6908,570.3925 1035.5,581.25 C1055.4997,589.6636 1072.9503,605.9361 1086.2866,621.641 " fill="none" id="ProcedureAPI-&gt;Blueprint" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1091.8381,617.3767,1098.6295,637.4486,1080.8034,625.9928,1091.8381,617.3767" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[300e9285ec805b9a8d2729f84a85b227]
link main to application--><!--MD5=[605d9347a921b61a607f7c4a5e0cd06a]
link restserver to application--><!--MD5=[9e40e20377711443ecd082752ec33bb9]
link restserver to flask--><!--MD5=[b07931159a4624d0b61c6220108084ac]
link FlaskWorker to restserver--><!--MD5=[ce8f21cae804bb116fe015a0ab75054a]
link ScriptExecutionService to ProcedureSummary--><!--MD5=[41f613223219267ed7026676c2c0179d]
@startuml

package ska_oso_oet.procedure {

package application as application_pkg {

    package restclient <<Rectangle>> {
        class RestClientUI {
            create(...)
            start(...)
            stop(...)
            list(...)
            describe(...)
            listen(...)
        }
    }

    package main <<Rectangle>> {
        class ScriptExecutionServiceWorker {
            prepare(...)
            start(...)
            stop(...)
            list(...)
            on_load(evt: EventMessage)
            on_run(evt: EventMessage)
            on_env(evt: EventMessage)
            on_pubsub(evt: EventMessage)
        }

        class FlaskWorker {
        }

        class EventBusWorker {
            main_loop(...)
            main_func(...)
            republish(...)
        }

        ScriptExecutionServiceWorker - -> EventBusWorker
        FlaskWorker - -> EventBusWorker
    }

    package restserver <<Rectangle>> {
        class app <<function return value>> {
        }

        class ProcedureAPI

        app o- - ProcedureAPI
    }

    package application <<Rectangle>> {
        class ScriptExecutionService {
            prepare(cmd: PrepareProcessCommand) -> ProcedureSummary
            start(cmd: StartProcessCommand) -> ProcedureSummary
            stop(cmd: StopProcessCommand) -> List[ProcedureSummary]
            summarise(pids: List[int]) -> List[[ProcedureSummary]
        }

        class ProcedureSummary {
            id: int
            script: domain.ExecutableScript
            script_args: List[ArgCapture]
            state: domain.ProcedureState
        }

        class ArgCapture {
            fn: str
            fn_args: domain.ProcedureInput
            time: float
        }
        ProcedureSummary -right-|> ArgCapture

        class ProcedureHistory {
            {field} process_states: List[(ProcedureState, time)]
            stacktrace: Optional[str]
        }
        ProcedureSummary - -> ProcedureHistory

        class PrepareProcessCommand {
            script: domain.ExecutableScript
            init_args: domain.ProcedureInput
        }

        class StartProcessCommand {
            process_uid: int
            fn_name: str
            run_args: domain.ProcedureInput
        }

        class StopProcessCommand {
            process_uid: int
            run_abort: bool
        }
        PrepareProcessCommand -up[hidden]- StartProcessCommand
        StartProcessCommand -up[hidden]- StopProcessCommand
    }
    FlaskWorker *- - app
    ScriptExecutionServiceWorker *- - ScriptExecutionService

}

    package domain <<Rectangle>> {
        abstract class ExecutableScript
        class GitScript
        class FilesystemScript
        class EmbeddedStringScript
        GitScript - -> ExecutableScript
        FilesystemScript - -> ExecutableScript
        EmbeddedStringScript - -> ExecutableScript

        enum ProcedureState {
            UNKNOWN
            CREATING
            IDLE
            LOADING
            READY
            RUNNING
            COMPLETE
            STOPPED
            FAILED
        }

        class ProcedureInput {
            args: List
            kwargs: Dict[str, Any]
        }
    }

    ProcedureHistory - - -> ProcedureState
    ProcedureSummary - - -> ProcedureInput
}

package flask {
    class Flask
    class Blueprint
}

app -|> Flask
ProcedureAPI -|> Blueprint

main -down[hidden]- -> application
restserver -left[hidden]- -> application
restserver -right[hidden]- -> flask
FlaskWorker -down[hidden]- -> restserver
ScriptExecutionService -down[hidden]- ProcedureSummary

@enduml

PlantUML version 1.2020.06(Sun Apr 05 12:38:32 GMT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 14-ea+33
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>