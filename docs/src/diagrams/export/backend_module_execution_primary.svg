<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1568px" preserveAspectRatio="none" style="width:1078px;height:1568px;" version="1.1" viewBox="0 0 1078 1568" width="1078px" zoomAndPan="magnify"><defs><filter height="300%" id="f1pz3axifx660x" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[c7b7ff29b474eab5f8ebbcd866111ae6]
cluster ska_oso_oet_client--><polygon fill="#FFFFFF" filter="url(#f1pz3axifx660x)" points="894,16,1046,16,1053,38.2969,1056,38.2969,1056,211,894,211,894,16" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="894" x2="1053" y1="38.2969" y2="38.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="146" x="898" y="30.9951">ska_oso_oet_client</text><!--MD5=[c1d103f90895134f040fa18b35926cd5]
cluster restclient--><rect fill="#FFFFFF" filter="url(#f1pz3axifx660x)" height="160" style="stroke: #000000; stroke-width: 1.5;" width="122" x="914" y="43"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="75" x="937.5" y="57.9951">restclient</text><!--MD5=[013f5ae47667252d65790964a7603222]
cluster ska_oso_oet--><polygon fill="#FFFFFF" filter="url(#f1pz3axifx660x)" points="14,35.5,116,35.5,123,57.7969,886,57.7969,886,1556,14,1556,14,35.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="14" x2="123" y1="57.7969" y2="57.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="96" x="18" y="50.4951">ska_oso_oet</text><!--MD5=[a70b0d373322012744ecc119c63f921b]
cluster main--><rect fill="#FFFFFF" filter="url(#f1pz3axifx660x)" height="350.5" style="stroke: #000000; stroke-width: 1.5;" width="377" x="436" y="62.5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="606" y="77.4951">main</text><!--MD5=[64e2e010ba86d7988e5cd73bd64f61f9]
cluster ui--><rect fill="#FFFFFF" filter="url(#f1pz3axifx660x)" height="89" style="stroke: #000000; stroke-width: 1.5;" width="190" x="688" y="438"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="776" y="452.9951">ui</text><!--MD5=[c52b0ba8ff4254a5e89298d845ed8822]
cluster procedure--><polygon fill="#FFFFFF" filter="url(#f1pz3axifx660x)" points="22,535,111,535,118,557.2969,878,557.2969,878,1548,22,1548,22,535" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="118" y1="557.2969" y2="557.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="83" x="26" y="549.9951">procedure</text><!--MD5=[ed3f1bfc40c75373031b3ae17d86c28b]
cluster procedure_ui--><rect fill="#FFFFFF" filter="url(#f1pz3axifx660x)" height="83" style="stroke: #000000; stroke-width: 1.5;" width="132" x="738" y="587.5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="797" y="602.4951">ui</text><!--MD5=[3ff016c1aa5003d713567a073e2181a6]
cluster application--><rect fill="#FFFFFF" filter="url(#f1pz3axifx660x)" height="573" style="stroke: #000000; stroke-width: 1.5;" width="700" x="30" y="562"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="85" x="337.5" y="576.9951">application</text><!--MD5=[27f772719433d509ddbc20ff768eba08]
cluster domain--><rect fill="#FFFFFF" filter="url(#f1pz3axifx660x)" height="319" style="stroke: #000000; stroke-width: 1.5;" width="813" x="57" y="1221"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="57" x="435" y="1235.9951">domain</text><!--MD5=[71c2ab1c1c8272e025db689c64a870a2]
cluster flask--><polygon fill="#FFFFFF" filter="url(#f1pz3axifx660x)" points="894,441,937,441,944,463.2969,998,463.2969,998,670.5,894,670.5,894,441" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="894" x2="944" y1="463.2969" y2="463.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="898" y="455.9951">flask</text><!--MD5=[9d427ac4c893214c110f9de4912e3cde]
class RestClientUI--><rect fill="#FEFECE" filter="url(#f1pz3axifx660x)" height="124.8281" id="RestClientUI" style="stroke: #A80036; stroke-width: 1.5;" width="107" x="921.5" y="70"/><ellipse cx="936.5" cy="86" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M939.4688,91.6406 Q938.8906,91.9375 938.25,92.0781 Q937.6094,92.2344 936.9063,92.2344 Q934.4063,92.2344 933.0781,90.5938 Q931.7656,88.9375 931.7656,85.8125 Q931.7656,82.6875 933.0781,81.0313 Q934.4063,79.375 936.9063,79.375 Q937.6094,79.375 938.25,79.5313 Q938.9063,79.6875 939.4688,79.9844 L939.4688,82.7031 Q938.8438,82.125 938.25,81.8594 Q937.6563,81.5781 937.0313,81.5781 Q935.6875,81.5781 935,82.6563 Q934.3125,83.7188 934.3125,85.8125 Q934.3125,87.9063 935,88.9844 Q935.6875,90.0469 937.0313,90.0469 Q937.6563,90.0469 938.25,89.7813 Q938.8438,89.5 939.4688,88.9219 L939.4688,91.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="75" x="950.5" y="90.1543">RestClientUI</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="922.5" x2="1027.5" y1="102" y2="102"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="922.5" x2="1027.5" y1="110" y2="110"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="927.5" y="124.2104">create(...)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="927.5" y="137.0151">start(...)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="927.5" y="149.8198">stop(...)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="927.5" y="162.6245">list(...)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="69" x="927.5" y="175.4292">describe(...)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="927.5" y="188.2339">listen(...)</text><!--MD5=[33f72e11af6101778dcafb71668d1add]
class ScriptExecutionServiceWorker--><rect fill="#FEFECE" filter="url(#f1pz3axifx660x)" height="150.4375" id="ScriptExecutionServiceWorker" style="stroke: #A80036; stroke-width: 1.5;" width="218" x="444" y="255"/><ellipse cx="459" cy="271" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M461.9688,276.6406 Q461.3906,276.9375 460.75,277.0781 Q460.1094,277.2344 459.4063,277.2344 Q456.9063,277.2344 455.5781,275.5938 Q454.2656,273.9375 454.2656,270.8125 Q454.2656,267.6875 455.5781,266.0313 Q456.9063,264.375 459.4063,264.375 Q460.1094,264.375 460.75,264.5313 Q461.4063,264.6875 461.9688,264.9844 L461.9688,267.7031 Q461.3438,267.125 460.75,266.8594 Q460.1563,266.5781 459.5313,266.5781 Q458.1875,266.5781 457.5,267.6563 Q456.8125,268.7188 456.8125,270.8125 Q456.8125,272.9063 457.5,273.9844 Q458.1875,275.0469 459.5313,275.0469 Q460.1563,275.0469 460.75,274.7813 Q461.3438,274.5 461.9688,273.9219 L461.9688,276.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="186" x="473" y="275.1543">ScriptExecutionServiceWorker</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="445" x2="661" y1="287" y2="287"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="445" x2="661" y1="295" y2="295"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="450" y="309.2104">prepare(...)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="450" y="322.0151">start(...)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="450" y="334.8198">stop(...)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="450" y="347.6245">list(...)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="159" x="450" y="360.4292">on_load(evt: EventMessage)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="154" x="450" y="373.2339">on_run(evt: EventMessage)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="155" x="450" y="386.0386">on_env(evt: EventMessage)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="177" x="450" y="398.8433">on_pubsub(evt: EventMessage)</text><!--MD5=[17238aaf72f47361d520c29dfe37cd7f]
class FlaskWorker--><rect fill="#FEFECE" filter="url(#f1pz3axifx660x)" height="48" id="FlaskWorker" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="697" y="306"/><ellipse cx="712" cy="322" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M714.9688,327.6406 Q714.3906,327.9375 713.75,328.0781 Q713.1094,328.2344 712.4063,328.2344 Q709.9063,328.2344 708.5781,326.5938 Q707.2656,324.9375 707.2656,321.8125 Q707.2656,318.6875 708.5781,317.0313 Q709.9063,315.375 712.4063,315.375 Q713.1094,315.375 713.75,315.5313 Q714.4063,315.6875 714.9688,315.9844 L714.9688,318.7031 Q714.3438,318.125 713.75,317.8594 Q713.1563,317.5781 712.5313,317.5781 Q711.1875,317.5781 710.5,318.6563 Q709.8125,319.7188 709.8125,321.8125 Q709.8125,323.9063 710.5,324.9844 Q711.1875,326.0469 712.5313,326.0469 Q713.1563,326.0469 713.75,325.7813 Q714.3438,325.5 714.9688,324.9219 L714.9688,327.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="76" x="726" y="326.1543">FlaskWorker</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="698" x2="804" y1="338" y2="338"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="698" x2="804" y1="346" y2="346"/><!--MD5=[182a5f28d356566e59ae05a80103f461]
class EventBusWorker--><rect fill="#FEFECE" filter="url(#f1pz3axifx660x)" height="86.4141" id="EventBusWorker" style="stroke: #A80036; stroke-width: 1.5;" width="134" x="578" y="89.5"/><ellipse cx="593" cy="105.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M595.9688,111.1406 Q595.3906,111.4375 594.75,111.5781 Q594.1094,111.7344 593.4063,111.7344 Q590.9063,111.7344 589.5781,110.0938 Q588.2656,108.4375 588.2656,105.3125 Q588.2656,102.1875 589.5781,100.5313 Q590.9063,98.875 593.4063,98.875 Q594.1094,98.875 594.75,99.0313 Q595.4063,99.1875 595.9688,99.4844 L595.9688,102.2031 Q595.3438,101.625 594.75,101.3594 Q594.1563,101.0781 593.5313,101.0781 Q592.1875,101.0781 591.5,102.1563 Q590.8125,103.2188 590.8125,105.3125 Q590.8125,107.4063 591.5,108.4844 Q592.1875,109.5469 593.5313,109.5469 Q594.1563,109.5469 594.75,109.2813 Q595.3438,109 595.9688,108.4219 L595.9688,111.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="102" x="607" y="109.6543">EventBusWorker</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="579" x2="711" y1="121.5" y2="121.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="579" x2="711" y1="129.5" y2="129.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="78" x="584" y="143.7104">main_loop(...)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="78" x="584" y="156.5151">main_func(...)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="584" y="169.3198">republish(...)</text><!--MD5=[d26137e5d461602f48e26353ca7979f6]
class app--><rect fill="#FEFECE" filter="url(#f1pz3axifx660x)" height="53.9375" id="app" style="stroke: #A80036; stroke-width: 1.5;" width="173" x="696.5" y="465"/><ellipse cx="711.5" cy="483.9688" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M714.4688,489.6094 Q713.8906,489.9063 713.25,490.0469 Q712.6094,490.2031 711.9063,490.2031 Q709.4063,490.2031 708.0781,488.5625 Q706.7656,486.9063 706.7656,483.7813 Q706.7656,480.6563 708.0781,479 Q709.4063,477.3438 711.9063,477.3438 Q712.6094,477.3438 713.25,477.5 Q713.9063,477.6563 714.4688,477.9531 L714.4688,480.6719 Q713.8438,480.0938 713.25,479.8281 Q712.6563,479.5469 712.0313,479.5469 Q710.6875,479.5469 710,480.625 Q709.3125,481.6875 709.3125,483.7813 Q709.3125,485.875 710,486.9531 Q710.6875,488.0156 712.0313,488.0156 Q712.6563,488.0156 713.25,487.75 Q713.8438,487.4688 714.4688,486.8906 L714.4688,489.6094 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="145" x="723.5" y="481.1387">«function return value»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="24" x="784" y="495.1074">app</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="697.5" x2="868.5" y1="502.9375" y2="502.9375"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="697.5" x2="868.5" y1="510.9375" y2="510.9375"/><!--MD5=[4ce79c04fa80ffb9cb46cd8e2bbde25d]
class ProcedureAPI--><rect fill="#FEFECE" filter="url(#f1pz3axifx660x)" height="48" id="ProcedureAPI" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="746" y="614.5"/><ellipse cx="761" cy="630.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M763.9688,636.1406 Q763.3906,636.4375 762.75,636.5781 Q762.1094,636.7344 761.4063,636.7344 Q758.9063,636.7344 757.5781,635.0938 Q756.2656,633.4375 756.2656,630.3125 Q756.2656,627.1875 757.5781,625.5313 Q758.9063,623.875 761.4063,623.875 Q762.1094,623.875 762.75,624.0313 Q763.4063,624.1875 763.9688,624.4844 L763.9688,627.2031 Q763.3438,626.625 762.75,626.3594 Q762.1563,626.0781 761.5313,626.0781 Q760.1875,626.0781 759.5,627.1563 Q758.8125,628.2188 758.8125,630.3125 Q758.8125,632.4063 759.5,633.4844 Q760.1875,634.5469 761.5313,634.5469 Q762.1563,634.5469 762.75,634.2813 Q763.3438,634 763.9688,633.4219 L763.9688,636.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="775" y="634.6543">ProcedureAPI</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="747" x2="861" y1="646.5" y2="646.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="747" x2="861" y1="654.5" y2="654.5"/><!--MD5=[4048a361f681e6f68b2b7284d5ce3ea6]
class ScriptExecutionService--><rect fill="#FEFECE" filter="url(#f1pz3axifx660x)" height="99.2188" id="ScriptExecutionService" style="stroke: #A80036; stroke-width: 1.5;" width="380" x="331" y="589"/><ellipse cx="445.75" cy="605" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M448.7188,610.6406 Q448.1406,610.9375 447.5,611.0781 Q446.8594,611.2344 446.1563,611.2344 Q443.6563,611.2344 442.3281,609.5938 Q441.0156,607.9375 441.0156,604.8125 Q441.0156,601.6875 442.3281,600.0313 Q443.6563,598.375 446.1563,598.375 Q446.8594,598.375 447.5,598.5313 Q448.1563,598.6875 448.7188,598.9844 L448.7188,601.7031 Q448.0938,601.125 447.5,600.8594 Q446.9063,600.5781 446.2813,600.5781 Q444.9375,600.5781 444.25,601.6563 Q443.5625,602.7188 443.5625,604.8125 Q443.5625,606.9063 444.25,607.9844 Q444.9375,609.0469 446.2813,609.0469 Q446.9063,609.0469 447.5,608.7813 Q448.0938,608.5 448.7188,607.9219 L448.7188,610.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="142" x="466.25" y="609.1543">ScriptExecutionService</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="332" x2="710" y1="621" y2="621"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="332" x2="710" y1="629" y2="629"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="368" x="337" y="643.2104">prepare(cmd: PrepareProcessCommand) -&gt; ProcedureSummary</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="333" x="337" y="656.0151">start(cmd: StartProcessCommand) -&gt; ProcedureSummary</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="357" x="337" y="668.8198">stop(cmd: StopProcessCommand) -&gt; List[ProcedureSummary]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="313" x="337" y="681.6245">summarise(pids: List[int]) -&gt; List[[ProcedureSummary]</text><!--MD5=[6400ffe083689ac1542ec7825ea5fe0e]
class ProcedureSummary--><rect fill="#FEFECE" filter="url(#f1pz3axifx660x)" height="99.2188" id="ProcedureSummary" style="stroke: #A80036; stroke-width: 1.5;" width="192" x="131" y="894"/><ellipse cx="163.1" cy="910" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M166.0688,915.6406 Q165.4906,915.9375 164.85,916.0781 Q164.2094,916.2344 163.5063,916.2344 Q161.0063,916.2344 159.6781,914.5938 Q158.3656,912.9375 158.3656,909.8125 Q158.3656,906.6875 159.6781,905.0313 Q161.0063,903.375 163.5063,903.375 Q164.2094,903.375 164.85,903.5313 Q165.5063,903.6875 166.0688,903.9844 L166.0688,906.7031 Q165.4438,906.125 164.85,905.8594 Q164.2563,905.5781 163.6313,905.5781 Q162.2875,905.5781 161.6,906.6563 Q160.9125,907.7188 160.9125,909.8125 Q160.9125,911.9063 161.6,912.9844 Q162.2875,914.0469 163.6313,914.0469 Q164.2563,914.0469 164.85,913.7813 Q165.4438,913.5 166.0688,912.9219 L166.0688,915.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="122" x="180.9" y="914.1543">ProcedureSummary</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="132" x2="322" y1="926" y2="926"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="32" x="137" y="940.2104">id: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="180" x="137" y="953.0151">script: domain.ExecutableScript</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="164" x="137" y="965.8198">script_args: List[ArgCapture]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="171" x="137" y="978.6245">state: domain.ProcedureState</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="132" x2="322" y1="985.2188" y2="985.2188"/><!--MD5=[983b3c90bf08e5f8cd553d5ff076bc9b]
class ArgCapture--><rect fill="#FEFECE" filter="url(#f1pz3axifx660x)" height="86.4141" id="ArgCapture" style="stroke: #A80036; stroke-width: 1.5;" width="195" x="470.5" y="900.5"/><ellipse cx="528.25" cy="916.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M531.2188,922.1406 Q530.6406,922.4375 530,922.5781 Q529.3594,922.7344 528.6563,922.7344 Q526.1563,922.7344 524.8281,921.0938 Q523.5156,919.4375 523.5156,916.3125 Q523.5156,913.1875 524.8281,911.5313 Q526.1563,909.875 528.6563,909.875 Q529.3594,909.875 530,910.0313 Q530.6563,910.1875 531.2188,910.4844 L531.2188,913.2031 Q530.5938,912.625 530,912.3594 Q529.4063,912.0781 528.7813,912.0781 Q527.4375,912.0781 526.75,913.1563 Q526.0625,914.2188 526.0625,916.3125 Q526.0625,918.4063 526.75,919.4844 Q527.4375,920.5469 528.7813,920.5469 Q529.4063,920.5469 530,920.2813 Q530.5938,920 531.2188,919.4219 L531.2188,922.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="71" x="548.75" y="920.6543">ArgCapture</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="471.5" x2="664.5" y1="932.5" y2="932.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="476.5" y="946.7104">fn: str</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="183" x="476.5" y="959.5151">fn_args: domain.ProcedureInput</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="58" x="476.5" y="972.3198">time: float</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="471.5" x2="664.5" y1="978.9141" y2="978.9141"/><!--MD5=[22b6e3484d9aeab608aa525a34a7a5de]
class ProcedureHistory--><rect fill="#FEFECE" filter="url(#f1pz3axifx660x)" height="73.6094" id="ProcedureHistory" style="stroke: #A80036; stroke-width: 1.5;" width="265" x="38.5" y="1053"/><ellipse cx="112.75" cy="1069" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M115.7188,1074.6406 Q115.1406,1074.9375 114.5,1075.0781 Q113.8594,1075.2344 113.1563,1075.2344 Q110.6563,1075.2344 109.3281,1073.5938 Q108.0156,1071.9375 108.0156,1068.8125 Q108.0156,1065.6875 109.3281,1064.0313 Q110.6563,1062.375 113.1563,1062.375 Q113.8594,1062.375 114.5,1062.5313 Q115.1563,1062.6875 115.7188,1062.9844 L115.7188,1065.7031 Q115.0938,1065.125 114.5,1064.8594 Q113.9063,1064.5781 113.2813,1064.5781 Q111.9375,1064.5781 111.25,1065.6563 Q110.5625,1066.7188 110.5625,1068.8125 Q110.5625,1070.9063 111.25,1071.9844 Q111.9375,1073.0469 113.2813,1073.0469 Q113.9063,1073.0469 114.5,1072.7813 Q115.0938,1072.5 115.7188,1071.9219 L115.7188,1074.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="133.25" y="1073.1543">ProcedureHistory</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39.5" x2="302.5" y1="1085" y2="1085"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="253" x="44.5" y="1099.2104">process_states: List[(ProcedureState, time)]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="44.5" y="1112.0151">stacktrace: Optional[str]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39.5" x2="302.5" y1="1118.6094" y2="1118.6094"/><!--MD5=[b160dcce9b08a809ce85f2ff29fa367c]
class PrepareProcessCommand--><rect fill="#FEFECE" filter="url(#f1pz3axifx660x)" height="73.6094" id="PrepareProcessCommand" style="stroke: #A80036; stroke-width: 1.5;" width="201" x="483.5" y="754"/><ellipse cx="501.65" cy="770" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M504.6188,775.6406 Q504.0406,775.9375 503.4,776.0781 Q502.7594,776.2344 502.0563,776.2344 Q499.5563,776.2344 498.2281,774.5938 Q496.9156,772.9375 496.9156,769.8125 Q496.9156,766.6875 498.2281,765.0313 Q499.5563,763.375 502.0563,763.375 Q502.7594,763.375 503.4,763.5313 Q504.0563,763.6875 504.6188,763.9844 L504.6188,766.7031 Q503.9938,766.125 503.4,765.8594 Q502.8063,765.5781 502.1813,765.5781 Q500.8375,765.5781 500.15,766.6563 Q499.4625,767.7188 499.4625,769.8125 Q499.4625,771.9063 500.15,772.9844 Q500.8375,774.0469 502.1813,774.0469 Q502.8063,774.0469 503.4,773.7813 Q503.9938,773.5 504.6188,772.9219 L504.6188,775.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="162" x="516.35" y="774.1543">PrepareProcessCommand</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="484.5" x2="683.5" y1="786" y2="786"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="180" x="489.5" y="800.2104">script: domain.ExecutableScript</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="189" x="489.5" y="813.0151">init_args: domain.ProcedureInput</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="484.5" x2="683.5" y1="819.6094" y2="819.6094"/><!--MD5=[0a8e784e9ba9565fe84d8c228ee2a213]
class StartProcessCommand--><rect fill="#FEFECE" filter="url(#f1pz3axifx660x)" height="86.4141" id="StartProcessCommand" style="stroke: #A80036; stroke-width: 1.5;" width="203" x="37.5" y="748"/><ellipse cx="65.1" cy="764" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M68.0688,769.6406 Q67.4906,769.9375 66.85,770.0781 Q66.2094,770.2344 65.5063,770.2344 Q63.0062,770.2344 61.6781,768.5938 Q60.3656,766.9375 60.3656,763.8125 Q60.3656,760.6875 61.6781,759.0313 Q63.0062,757.375 65.5063,757.375 Q66.2094,757.375 66.85,757.5313 Q67.5063,757.6875 68.0688,757.9844 L68.0688,760.7031 Q67.4438,760.125 66.85,759.8594 Q66.2563,759.5781 65.6313,759.5781 Q64.2875,759.5781 63.6,760.6563 Q62.9125,761.7188 62.9125,763.8125 Q62.9125,765.9063 63.6,766.9844 Q64.2875,768.0469 65.6313,768.0469 Q66.2563,768.0469 66.85,767.7813 Q67.4438,767.5 68.0688,766.9219 L68.0688,769.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="143" x="81.9" y="768.1543">StartProcessCommand</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="38.5" x2="239.5" y1="780" y2="780"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="43.5" y="794.2104">process_uid: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="43.5" y="807.0151">fn_name: str</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="191" x="43.5" y="819.8198">run_args: domain.ProcedureInput</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="38.5" x2="239.5" y1="826.4141" y2="826.4141"/><!--MD5=[333b187127690081bdcb02f6bb878b0d]
class StopProcessCommand--><rect fill="#FEFECE" filter="url(#f1pz3axifx660x)" height="73.6094" id="StopProcessCommand" style="stroke: #A80036; stroke-width: 1.5;" width="173" x="275.5" y="754"/><ellipse cx="290.5" cy="770" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M293.4688,775.6406 Q292.8906,775.9375 292.25,776.0781 Q291.6094,776.2344 290.9063,776.2344 Q288.4063,776.2344 287.0781,774.5938 Q285.7656,772.9375 285.7656,769.8125 Q285.7656,766.6875 287.0781,765.0313 Q288.4063,763.375 290.9063,763.375 Q291.6094,763.375 292.25,763.5313 Q292.9063,763.6875 293.4688,763.9844 L293.4688,766.7031 Q292.8438,766.125 292.25,765.8594 Q291.6563,765.5781 291.0313,765.5781 Q289.6875,765.5781 289,766.6563 Q288.3125,767.7188 288.3125,769.8125 Q288.3125,771.9063 289,772.9844 Q289.6875,774.0469 291.0313,774.0469 Q291.6563,774.0469 292.25,773.7813 Q292.8438,773.5 293.4688,772.9219 L293.4688,775.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="141" x="304.5" y="774.1543">StopProcessCommand</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="276.5" x2="447.5" y1="786" y2="786"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="281.5" y="800.2104">process_uid: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="281.5" y="813.0151">run_abort: bool</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="276.5" x2="447.5" y1="819.6094" y2="819.6094"/><!--MD5=[13263f9aae361c96bd995cd1c2420d0a]
class ExecutableScript--><rect fill="#FEFECE" filter="url(#f1pz3axifx660x)" height="48" id="ExecutableScript" style="stroke: #A80036; stroke-width: 1.5;" width="138" x="606" y="1484"/><ellipse cx="621" cy="1500" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M621.1094,1495.3438 L619.9531,1500.4219 L622.2813,1500.4219 L621.1094,1495.3438 Z M619.625,1493.1094 L622.6094,1493.1094 L625.9688,1505.5 L623.5156,1505.5 L622.75,1502.4375 L619.4688,1502.4375 L618.7188,1505.5 L616.2813,1505.5 L619.625,1493.1094 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="106" x="635" y="1504.1543">ExecutableScript</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="607" x2="743" y1="1516" y2="1516"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="607" x2="743" y1="1524" y2="1524"/><!--MD5=[5388228dfd16e8b25647ca0284da0e89]
class GitScript--><rect fill="#FEFECE" filter="url(#f1pz3axifx660x)" height="48" id="GitScript" style="stroke: #A80036; stroke-width: 1.5;" width="85" x="776.5" y="1312"/><ellipse cx="791.5" cy="1328" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M794.4688,1333.6406 Q793.8906,1333.9375 793.25,1334.0781 Q792.6094,1334.2344 791.9063,1334.2344 Q789.4063,1334.2344 788.0781,1332.5938 Q786.7656,1330.9375 786.7656,1327.8125 Q786.7656,1324.6875 788.0781,1323.0313 Q789.4063,1321.375 791.9063,1321.375 Q792.6094,1321.375 793.25,1321.5313 Q793.9063,1321.6875 794.4688,1321.9844 L794.4688,1324.7031 Q793.8438,1324.125 793.25,1323.8594 Q792.6563,1323.5781 792.0313,1323.5781 Q790.6875,1323.5781 790,1324.6563 Q789.3125,1325.7188 789.3125,1327.8125 Q789.3125,1329.9063 790,1330.9844 Q790.6875,1332.0469 792.0313,1332.0469 Q792.6563,1332.0469 793.25,1331.7813 Q793.8438,1331.5 794.4688,1330.9219 L794.4688,1333.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="53" x="805.5" y="1332.1543">GitScript</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="777.5" x2="860.5" y1="1344" y2="1344"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="777.5" x2="860.5" y1="1352" y2="1352"/><!--MD5=[a69e1ba87608a25246e7971a0bc46dd9]
class FilesystemScript--><rect fill="#FEFECE" filter="url(#f1pz3axifx660x)" height="48" id="FilesystemScript" style="stroke: #A80036; stroke-width: 1.5;" width="133" x="608.5" y="1312"/><ellipse cx="623.5" cy="1328" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M626.4688,1333.6406 Q625.8906,1333.9375 625.25,1334.0781 Q624.6094,1334.2344 623.9063,1334.2344 Q621.4063,1334.2344 620.0781,1332.5938 Q618.7656,1330.9375 618.7656,1327.8125 Q618.7656,1324.6875 620.0781,1323.0313 Q621.4063,1321.375 623.9063,1321.375 Q624.6094,1321.375 625.25,1321.5313 Q625.9063,1321.6875 626.4688,1321.9844 L626.4688,1324.7031 Q625.8438,1324.125 625.25,1323.8594 Q624.6563,1323.5781 624.0313,1323.5781 Q622.6875,1323.5781 622,1324.6563 Q621.3125,1325.7188 621.3125,1327.8125 Q621.3125,1329.9063 622,1330.9844 Q622.6875,1332.0469 624.0313,1332.0469 Q624.6563,1332.0469 625.25,1331.7813 Q625.8438,1331.5 626.4688,1330.9219 L626.4688,1333.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="101" x="637.5" y="1332.1543">FilesystemScript</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="609.5" x2="740.5" y1="1344" y2="1344"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="609.5" x2="740.5" y1="1352" y2="1352"/><!--MD5=[4cd8da3cc660ccc805077feb75940c49]
class EmbeddedStringScript--><rect fill="#FEFECE" filter="url(#f1pz3axifx660x)" height="48" id="EmbeddedStringScript" style="stroke: #A80036; stroke-width: 1.5;" width="172" x="401" y="1312"/><ellipse cx="416" cy="1328" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M418.9688,1333.6406 Q418.3906,1333.9375 417.75,1334.0781 Q417.1094,1334.2344 416.4063,1334.2344 Q413.9063,1334.2344 412.5781,1332.5938 Q411.2656,1330.9375 411.2656,1327.8125 Q411.2656,1324.6875 412.5781,1323.0313 Q413.9063,1321.375 416.4063,1321.375 Q417.1094,1321.375 417.75,1321.5313 Q418.4063,1321.6875 418.9688,1321.9844 L418.9688,1324.7031 Q418.3438,1324.125 417.75,1323.8594 Q417.1563,1323.5781 416.5313,1323.5781 Q415.1875,1323.5781 414.5,1324.6563 Q413.8125,1325.7188 413.8125,1327.8125 Q413.8125,1329.9063 414.5,1330.9844 Q415.1875,1332.0469 416.5313,1332.0469 Q417.1563,1332.0469 417.75,1331.7813 Q418.3438,1331.5 418.9688,1330.9219 L418.9688,1333.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="140" x="430" y="1332.1543">EmbeddedStringScript</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="402" x2="572" y1="1344" y2="1344"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="402" x2="572" y1="1352" y2="1352"/><!--MD5=[21e0a38580498e330e866f309f232236]
class ProcedureState--><rect fill="#FEFECE" filter="url(#f1pz3axifx660x)" height="176.0469" id="ProcedureState" style="stroke: #A80036; stroke-width: 1.5;" width="131" x="65.5" y="1248"/><ellipse cx="80.5" cy="1264" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M84.6094,1270 L76.8906,1270 L76.8906,1257.6094 L84.6094,1257.6094 L84.6094,1259.7656 L79.3438,1259.7656 L79.3438,1262.4375 L84.1094,1262.4375 L84.1094,1264.5938 L79.3438,1264.5938 L79.3438,1267.8438 L84.6094,1267.8438 L84.6094,1270 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="99" x="94.5" y="1268.1543">ProcedureState</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="66.5" x2="195.5" y1="1280" y2="1280"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="57" x="71.5" y="1294.2104">UNKNOWN</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="71.5" y="1307.0151">CREATING</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="24" x="71.5" y="1319.8198">IDLE</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="50" x="71.5" y="1332.6245">LOADING</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="71.5" y="1345.4292">INITIALISING</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="71.5" y="1358.2339">READY</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="71.5" y="1371.0386">RUNNING</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="60" x="71.5" y="1383.8433">COMPLETE</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="53" x="71.5" y="1396.6479">STOPPED</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="71.5" y="1409.4526">FAILED</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="66.5" x2="195.5" y1="1416.0469" y2="1416.0469"/><!--MD5=[8cd6aba8f60734d95fc306fd5c65d7ab]
class ProcedureInput--><rect fill="#FEFECE" filter="url(#f1pz3axifx660x)" height="73.6094" id="ProcedureInput" style="stroke: #A80036; stroke-width: 1.5;" width="134" x="232" y="1299"/><ellipse cx="249.25" cy="1315" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M252.2188,1320.6406 Q251.6406,1320.9375 251,1321.0781 Q250.3594,1321.2344 249.6563,1321.2344 Q247.1563,1321.2344 245.8281,1319.5938 Q244.5156,1317.9375 244.5156,1314.8125 Q244.5156,1311.6875 245.8281,1310.0313 Q247.1563,1308.375 249.6563,1308.375 Q250.3594,1308.375 251,1308.5313 Q251.6563,1308.6875 252.2188,1308.9844 L252.2188,1311.7031 Q251.5938,1311.125 251,1310.8594 Q250.4063,1310.5781 249.7813,1310.5781 Q248.4375,1310.5781 247.75,1311.6563 Q247.0625,1312.7188 247.0625,1314.8125 Q247.0625,1316.9063 247.75,1317.9844 Q248.4375,1319.0469 249.7813,1319.0469 Q250.4063,1319.0469 251,1318.7813 Q251.5938,1318.5 252.2188,1317.9219 L252.2188,1320.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="97" x="263.75" y="1319.1543">ProcedureInput</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="233" x2="365" y1="1331" y2="1331"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="54" x="238" y="1345.2104">args: List</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="122" x="238" y="1358.0151">kwargs: Dict[str, Any]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="233" x2="365" y1="1364.6094" y2="1364.6094"/><!--MD5=[56dc9bd079fa0794426dfac01e4747ad]
class Flask--><rect fill="#FEFECE" filter="url(#f1pz3axifx660x)" height="48" id="Flask" style="stroke: #A80036; stroke-width: 1.5;" width="64" x="909" y="468"/><ellipse cx="924" cy="484" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M926.9688,489.6406 Q926.3906,489.9375 925.75,490.0781 Q925.1094,490.2344 924.4063,490.2344 Q921.9063,490.2344 920.5781,488.5938 Q919.2656,486.9375 919.2656,483.8125 Q919.2656,480.6875 920.5781,479.0313 Q921.9063,477.375 924.4063,477.375 Q925.1094,477.375 925.75,477.5313 Q926.4063,477.6875 926.9688,477.9844 L926.9688,480.7031 Q926.3438,480.125 925.75,479.8594 Q925.1563,479.5781 924.5313,479.5781 Q923.1875,479.5781 922.5,480.6563 Q921.8125,481.7188 921.8125,483.8125 Q921.8125,485.9063 922.5,486.9844 Q923.1875,488.0469 924.5313,488.0469 Q925.1563,488.0469 925.75,487.7813 Q926.3438,487.5 926.9688,486.9219 L926.9688,489.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="32" x="938" y="488.1543">Flask</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="910" x2="972" y1="500" y2="500"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="910" x2="972" y1="508" y2="508"/><!--MD5=[687b898a26107f91307f914974ba425d]
class Blueprint--><rect fill="#FEFECE" filter="url(#f1pz3axifx660x)" height="48" id="Blueprint" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="902" y="614.5"/><ellipse cx="917" cy="630.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M919.9688,636.1406 Q919.3906,636.4375 918.75,636.5781 Q918.1094,636.7344 917.4063,636.7344 Q914.9063,636.7344 913.5781,635.0938 Q912.2656,633.4375 912.2656,630.3125 Q912.2656,627.1875 913.5781,625.5313 Q914.9063,623.875 917.4063,623.875 Q918.1094,623.875 918.75,624.0313 Q919.4063,624.1875 919.9688,624.4844 L919.9688,627.2031 Q919.3438,626.625 918.75,626.3594 Q918.1563,626.0781 917.5313,626.0781 Q916.1875,626.0781 915.5,627.1563 Q914.8125,628.2188 914.8125,630.3125 Q914.8125,632.4063 915.5,633.4844 Q916.1875,634.5469 917.5313,634.5469 Q918.1563,634.5469 918.75,634.2813 Q919.3438,634 919.9688,633.4219 L919.9688,636.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="56" x="931" y="634.6543">Blueprint</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="903" x2="989" y1="646.5" y2="646.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="903" x2="989" y1="654.5" y2="654.5"/><!--MD5=[2808396a93fd8872cd1a3c3690659d6a]
reverse link EventBusWorker to ScriptExecutionServiceWorker--><path d="M622.6247,180.534 C612.2197,202.8707 599.6014,229.959 587.9801,254.9068 " fill="none" id="EventBusWorker&lt;-ScriptExecutionServiceWorker" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="624.8102,175.8422,617.3838,182.3113,622.6988,180.3745,624.6356,185.6895,624.8102,175.8422" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[23aba4bc0d158aad32e01ce5d079dae1]
reverse link EventBusWorker to FlaskWorker--><path d="M670.8187,180.6055 C692.1199,220.2941 721.4527,274.9472 738.0951,305.9554 " fill="none" id="EventBusWorker&lt;-FlaskWorker" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="668.2621,175.8422,668.9939,185.6638,670.6267,180.2477,676.0427,181.8805,668.2621,175.8422" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[3d6ca7dcc7a7afbc940ca6040b71f5db]
reverse link app to ProcedureAPI--><path d="M788.7658,532.2234 C792.539,558.5457 797.3437,592.0645 800.538,614.3483 " fill="none" id="app&lt;-ProcedureAPI" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="786.9007,519.2122,783.7926,525.7191,788.6035,531.0908,791.7116,524.5839,786.9007,519.2122" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[d9c010a6c726993165493b57eb65ce55]
link ProcedureSummary to ArgCapture--><path d="M323.2393,943.5 C365.6088,943.5 407.9783,943.5 450.3478,943.5 " fill="none" id="ProcedureSummary-&gt;ArgCapture" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="450.4782,936.4999,470.4781,943.5,450.4781,950.4999,450.4782,936.4999" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[670a92a197175b32c692a49afe2e6446]
link ProcedureSummary to ProcedureHistory--><path d="M208.041,993.0982 C201.1961,1011.0049 193.5437,1031.024 186.9794,1048.1969 " fill="none" id="ProcedureSummary-&gt;ProcedureHistory" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="185.1583,1052.9609,192.1081,1045.9824,186.9436,1048.2905,184.6355,1043.1259,185.1583,1052.9609" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[0a6a154b20825b18d17e4f923c1e1b41]
link StartProcessCommand to PrepareProcessCommand--><!--MD5=[650b803e1eaf2fa6d530be6fd187ebab]
link PrepareProcessCommand to StartProcessCommand--><!--MD5=[88322577ce844aefa0a21be90dc7ed11]
link StopProcessCommand to StartProcessCommand--><!--MD5=[39ddc06e72d877b4e817c92e8dcb1a3f]
link StartProcessCommand to StopProcessCommand--><!--MD5=[e4f2f32f24c45f71dd786268467d1361]
reverse link FlaskWorker to app--><path d="M758.3198,367.0565 C764.2086,396.8687 772.3472,438.0703 777.6417,464.8734 " fill="none" id="FlaskWorker&lt;-app" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="755.7907,354.253,753.0293,360.9144,758.1162,366.0255,760.8776,359.3641,755.7907,354.253" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[b27ef9488cbe5fea9ddc8e8bcf6514b7]
reverse link ScriptExecutionServiceWorker to ScriptExecutionService--><path d="M543.8627,418.0894 C538.1241,473.4129 530.9324,542.7459 526.1636,588.7199 " fill="none" id="ScriptExecutionServiceWorker&lt;-ScriptExecutionService" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="545.2128,405.0731,540.6151,410.6284,543.9747,417.0091,548.5724,411.4538,545.2128,405.0731" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[372912cf6ec7d18640636b9aa66210a3]
link GitScript to ExecutableScript--><path d="M804.3507,1360.0194 C792.8491,1378.2156 775.9883,1403.4964 759,1424 C742.4854,1443.932 721.9736,1464.5103 705.3535,1480.3103 " fill="none" id="GitScript-&gt;ExecutableScript" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="701.6527,1483.8108,710.9398,1480.5322,705.2852,1480.3749,705.4424,1474.7202,701.6527,1483.8108" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[cc4b0d9d439cbc60cc82c97faef1d0fb]
link FilesystemScript to ExecutableScript--><path d="M675,1360.2786 C675,1391.3948 675,1445.2953 675,1478.6712 " fill="none" id="FilesystemScript-&gt;ExecutableScript" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="675,1483.8449,679,1474.8449,675,1478.8449,671,1474.8449,675,1483.8449" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[0de5c1a0b63c2d3fc2b14a53bd70ebf0]
link EmbeddedStringScript to ExecutableScript--><path d="M513.5371,1360.2786 C548.1077,1391.907 608.4087,1447.076 644.726,1480.3025 " fill="none" id="EmbeddedStringScript-&gt;ExecutableScript" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="648.5979,1483.8449,644.6577,1474.8186,644.9089,1480.4698,639.2576,1480.721,648.5979,1483.8449" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[ceb1a7694f2998abcda09fad6019829b]
link ProcedureHistory to ProcedureState--><path d="M164.9683,1127.095 C159.9971,1157.6675 152.7264,1202.3827 146.1859,1242.6067 " fill="none" id="ProcedureHistory-&gt;ProcedureState" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="145.3096,1247.9957,150.7021,1239.7543,146.112,1243.0605,142.8058,1238.4704,145.3096,1247.9957" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[2fdfc5020cc774548334809f7828d98d]
link ProcedureSummary to ProcedureInput--><path d="M282.4599,993.0193 C297.9744,1010.285 312.8207,1030.9149 321,1053 C351.0705,1134.1945 329.5025,1237.2405 313.0126,1293.8988 " fill="none" id="ProcedureSummary-&gt;ProcedureInput" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="311.535,1298.9001,317.9212,1291.4023,312.9517,1294.105,310.2491,1289.1356,311.535,1298.9001" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[7bc91e66d2a1940da7a755ed03b9f1fc]
link app to Flask--><path d="M869.7148,492 C876.0541,492 882.3934,492 888.7326,492 " fill="none" id="app-&gt;Flask" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="888.9774,484.9999,908.9774,492,888.9773,498.9999,888.9774,484.9999" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[6223b881f1b87262f92596ed38b8c6aa]
link ProcedureAPI to Blueprint--><path d="M862.2422,638.5 C868.7372,638.5 875.2322,638.5 881.7272,638.5 " fill="none" id="ProcedureAPI-&gt;Blueprint" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="881.8309,631.4999,901.8308,638.5,881.8308,645.4999,881.8309,631.4999" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[ba95c7f4237f35f52038bfc61d34fc99]
link Flask to Blueprint--><!--MD5=[ba38ce5f3b38558927cb2a9623e59df6]
link ScriptExecutionService to ArgCapture--><!--MD5=[6fef0cc385fbfbfba413cfb351db73c4]
link ScriptExecutionService to StopProcessCommand--><!--MD5=[faa7237244dd468ac4d5d02b1785d066]
link StartProcessCommand to ProcedureSummary--><!--MD5=[ddb435f8a8aae35e4411f912ea70b924]
@startuml

package ska_oso_oet_client {
    package restclient <<Rectangle>> {
        class RestClientUI {
            create(...)
            start(...)
            stop(...)
            list(...)
            describe(...)
            listen(...)
        }
    }
}

package ska_oso_oet {

    package main <<Rectangle>> {
        class ScriptExecutionServiceWorker {
            prepare(...)
            start(...)
            stop(...)
            list(...)
            on_load(evt: EventMessage)
            on_run(evt: EventMessage)
            on_env(evt: EventMessage)
            on_pubsub(evt: EventMessage)
        }

        class FlaskWorker {
        }

        class EventBusWorker {
            main_loop(...)
            main_func(...)
            republish(...)
        }

        ScriptExecutionServiceWorker -up-> EventBusWorker
        FlaskWorker -up-> EventBusWorker
    }

    package ui <<Rectangle>> {
        class app <<function return value>> {
        }
    }

    package procedure {
        package ui as procedure_ui <<Rectangle>> {
            class ProcedureAPI
            app o- - ProcedureAPI
        }

        package application <<Rectangle>> {
            class ScriptExecutionService {
                prepare(cmd: PrepareProcessCommand) -> ProcedureSummary
                start(cmd: StartProcessCommand) -> ProcedureSummary
                stop(cmd: StopProcessCommand) -> List[ProcedureSummary]
                summarise(pids: List[int]) -> List[[ProcedureSummary]
            }

            class ProcedureSummary {
                id: int
                script: domain.ExecutableScript
                script_args: List[ArgCapture]
                state: domain.ProcedureState
            }

            class ArgCapture {
                fn: str
                fn_args: domain.ProcedureInput
                time: float
            }
            ProcedureSummary -right-|> ArgCapture

            class ProcedureHistory {
                {field} process_states: List[(ProcedureState, time)]
                stacktrace: Optional[str]
            }
            ProcedureSummary - -> ProcedureHistory

            class PrepareProcessCommand {
                script: domain.ExecutableScript
                init_args: domain.ProcedureInput
            }

            class StartProcessCommand {
                process_uid: int
                fn_name: str
                run_args: domain.ProcedureInput
            }

            class StopProcessCommand {
                process_uid: int
                run_abort: bool
            }
            PrepareProcessCommand -up[hidden]- StartProcessCommand
            StartProcessCommand -up[hidden]- StopProcessCommand
        }
        FlaskWorker *- - app
        ScriptExecutionServiceWorker *- - ScriptExecutionService

        package domain <<Rectangle>> {
            abstract class ExecutableScript
            class GitScript
            class FilesystemScript
            class EmbeddedStringScript
            GitScript - -> ExecutableScript
            FilesystemScript - -> ExecutableScript
            EmbeddedStringScript - -> ExecutableScript

            enum ProcedureState {
                UNKNOWN
                CREATING
                IDLE
                LOADING
                INITIALISING
                READY
                RUNNING
                COMPLETE
                STOPPED
                FAILED
            }

            class ProcedureInput {
                args: List
                kwargs: Dict[str, Any]
            }
        }
        ProcedureHistory - - -> ProcedureState
        ProcedureSummary - -> ProcedureInput
    }

}

package flask {
    class Flask
    class Blueprint
}

app -|> Flask
ProcedureAPI -|> Blueprint
Blueprint -up[hidden]- Flask

PrepareProcessCommand -right[hidden] StartProcessCommand
StartProcessCommand -right[hidden] StopProcessCommand
ScriptExecutionService -down[hidden]- ArgCapture
ScriptExecutionService -down[hidden]- StopProcessCommand
ProcedureSummary -up[hidden]- StartProcessCommand
@enduml

PlantUML version 1.2020.06(Sun Apr 05 12:38:32 GMT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 14-ea+33
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>